<?php
if (!defined('TAO_PAGE_TITLE')) {define('TAO_PAGE_TITLE', "Comprehensive Open Events List at " . TAOH_SITE_NAME_SLUG . ": Explore and Apply to a Wide Range of Event Opportunities");}
if (!defined('TAO_PAGE_DESCRIPTION')) {define('TAO_PAGE_DESCRIPTION', "Browse our comprehensive events list featuring a diverse range of event opportunities across industries. Find the perfect event that matches your skills and interests, chat with recruiters and easily apply through our user-friendly platform at " . TAOH_SITE_NAME_SLUG . ". Start your event search today and take the next step in your career.");}
if (!defined('TAO_PAGE_KEYWORDS')) {define('TAO_PAGE_KEYWORDS', "Event openings at " . TAOH_SITE_NAME_SLUG . ", Employment opportunities at " . TAOH_SITE_NAME_SLUG . ", Event listings at " . TAOH_SITE_NAME_SLUG . ", Event board at " . TAOH_SITE_NAME_SLUG . ", Event search platform at " . TAOH_SITE_NAME_SLUG . ", Event finder at " . TAOH_SITE_NAME_SLUG . ", Event database at " . TAOH_SITE_NAME_SLUG . ", Event search engine at " . TAOH_SITE_NAME_SLUG . ", Event match at " . TAOH_SITE_NAME_SLUG . ", Event applications at " . TAOH_SITE_NAME_SLUG . ", Apply for events at " . TAOH_SITE_NAME_SLUG . ", Event search website at " . TAOH_SITE_NAME_SLUG . ", Find a event at " . TAOH_SITE_NAME_SLUG . ", Event seekers at " . TAOH_SITE_NAME_SLUG . ", Event alerts at " . TAOH_SITE_NAME_SLUG . ", Explore event opportunities at " . TAOH_SITE_NAME_SLUG);}
define('TAO_PAGE_ROBOT', 'noindex, nofollow');
$GLOBALS['show_events_css'] = true;
taoh_get_header();

$taoh_user_is_logged_in = taoh_user_is_logged_in() ?? false;
$user_info_obj = $taoh_user_is_logged_in ? taoh_user_all_info() : null;

$valid_user = $taoh_user_is_logged_in && $user_info_obj->profile_complete;


if(EVENT_DEMO_SITE)
$current_app ='events';
else
$current_app =  taoh_parse_url(0);

$app_data = taoh_app_info($current_app);

//print_r($app_data);die();
$taoh_user_vars = $data = taoh_user_all_info();
$profile_complete = (isset($data->profile_complete) && $data->profile_complete) ? $data->profile_complete : 0;

$empty = 0;
$ptoken = TAOH_API_TOKEN_DUMMY;
if (taoh_user_is_logged_in()) {
    $ptoken = $user_ptoken = $data?->ptoken ?? '';
}

$share_link = $_SERVER['REQUEST_SCHEME'] . "://" . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];
define('TAO_PAGE_TYPE', ($app_data?->slug ?? ''));
$log_nolog_token = (taoh_user_is_logged_in()) ? $ptoken : TAOH_API_TOKEN_DUMMY;
/* check liked or not */


$liked_arr = array();
$rsvped_data = array();
if (taoh_user_is_logged_in()) {
    $taoh_call = "system.users.metrics";
    $taoh_vals = array(
        'mod' => 'system',
        'token' => taoh_get_dummy_token(),
        'slug' => TAO_PAGE_TYPE,
    );
    //echo taoh_apicall_get_debug($taoh_call, $taoh_vals);exit();
    $get_liked = json_decode(taoh_apicall_get($taoh_call, $taoh_vals), true);

    if (isset($get_liked['conttoken_liked'])) {
        $liked_arr = $get_liked['conttoken_liked'];
    }
    /* End check liked or not */

    /* Get RSVP list */
    //https://ppapi.tao.ai/events.user.rsvp?mod=core&token=C3kONdHX&ops=events
    $taoh_call = "events.user.rsvp";
    $taoh_vals = array(
        'mod' => 'core',
        'token' => taoh_get_dummy_token(),
        'ops' => 'events',
        'cache_required' => 0,
        'time' => time(),
    );
    //echo taoh_apicall_get_debug($taoh_call, $taoh_vals);exit();
    $rsvped_data = json_decode(taoh_apicall_get($taoh_call, $taoh_vals), true);
    if (is_array($rsvped_data) && in_array($rsvped_data['success'] ?? null, [true, 'true', 1, '1'], true)) {
        $rsvped_data = $rsvped_data['output'];
    } else {
        $rsvped_data = array();
    }
    /* End Get RSVP list */
}

//echo "TEST 1234"; die;

?>
<style>


</style>

<div class="mobile-app">
<?php if(!taoh_user_is_logged_in()) { ?>
<section class="hero-area overflow-hidden section-padding events-banner-section yellow-bg">
    <div class="container">
        <div class="row">
            <div class="col-lg-7">
                <div class="hero-content pb-5 pt-3">
                    <h2 class="section-title wordSlider  pb-3 lh-55 text-white">Empower Career Through Global Events</h2>
                    <p class="section-desc pb-4 text-white">Embark on a journey of opportunity with events appâ€”where ambition meets possibility.</p>
                    <div class="dark-btn">
                        <!-- <a href="<?php echo TAOH_SITE_URL_ROOT.'/login'; ?>" class="btn theme-btn" style="background-color: #434141;">Join Our Thriving <?php echo TAOH_CLUB_TARGET; ?> Network</a> -->
                       <!-- <a onclick="localStorage.removeItem('isCodeSent')" href="javascript:void(0);" style="background-color: #434141;"
                         class="btn theme-btn login-button " aria-pressed="true" data-toggle="modal" data-target="#config-modal">Join Our Thriving <?php echo TAOH_CLUB_TARGET; ?> Network</a> -->
                         <a onclick="localStorage.removeItem('isCodeSent')" href="javascript:void(0);" style="background-color: #434141;"
                         class="btn theme-btn login-button " aria-pressed="true" data-toggle="modal" data-target="#config-modal">Attend Our <?php echo TAOH_CLUB_TARGET; ?> Events, Including Career Networkings and Job Fairs</a>
                    </div>
                                        </div><!-- end hero-content -->
            </div><!-- end col-lg-6 -->
             <div class="col-lg-5 ml-auto banner-right-image">
                <svg width="640" height="439" viewBox="0 0 640 439" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M601.1 329.409C627.416 277.569 632.095 215.458 609.22 149.888C604.855 137.371 598.238 124.445 590.031 112.913C532.325 31.7949 455.632 36.2735 408.54 40.3298C347.073 45.6196 309.145 17.2394 285.432 10.3605C126.34 -35.8135 7.63648 80.2149 0.556506 202.794C-2.4203 254.351 7.85773 295.94 25.4705 329.409H601.1Z" fill="#E9F0F8"/>
                    <path d="M90.94 223.028C81.3526 208.721 88.5801 183.344 111.55 171.665C116.954 168.909 124.241 163.666 126.675 156.385C127.372 154.293 126.749 152.416 127.285 152.456C127.962 152.496 128.157 157.009 128.21 158.235C128.619 167.615 126.548 175.325 125.669 179.757C122.74 194.467 127.52 213.836 114.164 226.964C104.55 236.417 95.707 230.141 90.94 223.028Z" fill="#282444"/>
                    <path d="M70.3705 165.557C70.8734 165.597 69.7537 166.254 70.27 167.903C70.994 170.236 72.9451 171.631 74.1251 172.918C78.3489 177.544 79.2875 183.485 78.9925 189.566C78.778 194.017 75.3855 200.44 72.2076 198.221C57.0151 187.554 67.5144 172.395 68.7547 169.727C70.2498 166.482 69.7202 165.49 70.3705 165.557Z" fill="#282444"/>
                    <path d="M84.2358 246.42C91.3627 239.367 81.9496 199.656 49.7343 180.072C46.4089 178.047 40.9514 174.206 39.939 174.99C39.4228 175.392 42.9226 176.023 41.8699 179.388C30.251 216.397 69.1238 216.397 71.1285 240.057C71.7252 247.043 80.2198 250.389 84.2358 246.42Z" fill="#3A4A1D"/>
                    <path d="M163.765 183.853C161.639 185.824 155.109 185.06 149.001 187.729C143.296 190.223 140.842 195.901 138.321 204.061C133.99 218.067 121.64 239.467 104.342 239.622C76.351 239.87 101.674 208.077 126.695 190.886C137.496 183.464 152.36 183.324 159.038 183.237C162.994 183.19 164.75 182.935 163.765 183.853Z" fill="#3A4A1D"/>
                    <path d="M88.6271 152.684C90.7591 151.652 87.9097 160.126 98.5833 170.967C121.359 194.098 116.652 240.815 92.7973 243.168C83.3171 244.1 48.0581 206.36 86.0794 162.171C90.5714 156.955 87.836 153.066 88.6271 152.684Z" fill="#3A4A1D"/>
                    <path d="M114.091 187.93C114.225 186.294 119.897 203.042 120.574 211.235C122.042 228.995 119.743 238.777 112.844 246.172C104.805 254.787 91.1615 258.32 83.0691 250.57C75.835 243.644 75.4327 231.362 81.6813 222.8C86.1398 216.692 87.6684 216.444 99.9712 203.364C107.574 195.271 113.461 195.445 114.091 187.93Z" fill="#516123"/>
                    <path d="M130.423 244.482C130.235 242.243 128.358 240.527 126.112 240.527H65.4091C63.163 240.527 61.2925 242.243 61.1048 244.482L58.4028 274.894V279.252C58.4028 295.819 71.832 310.763 88.3988 310.763H103.115C119.689 310.763 133.125 295.819 133.125 279.252V274.894L130.423 244.482Z" fill="#FCBC50"/>
                    <path d="M455.23 310.763H112.2C109.27 310.763 107.292 307.773 108.439 305.078L111.174 298.628C111.818 297.12 113.3 296.141 114.935 296.141H452.481C454.124 296.141 455.605 297.12 456.242 298.628L458.985 305.078C460.131 307.773 458.16 310.763 455.23 310.763Z" fill="#444263"/>
                    <path d="M458.984 305.078L456.242 298.628C455.605 297.12 454.124 296.141 452.481 296.141H369.258C367.615 296.141 366.134 297.12 365.49 298.628L362.754 305.078C361.608 307.773 363.579 310.763 366.509 310.763H455.23C458.16 310.763 460.131 307.773 458.984 305.078Z" fill="#282444"/>
                    <path d="M453.702 296.603H150.007C148.84 296.603 147.875 295.645 147.875 294.478V101.958C147.875 99.9463 149.504 98.3171 151.516 98.3171H454.023C455.673 98.3171 457.014 99.658 457.014 101.307V293.291C457.014 295.115 455.525 296.603 453.702 296.603Z" fill="#282444"/>
                    <path d="M445.562 294.082H154.164C151.375 294.082 149.115 291.823 149.115 289.041V106.047C149.115 103.265 151.375 101.006 154.164 101.006H445.562C448.345 101.006 450.611 103.265 450.611 106.047V289.041C450.611 291.823 448.345 294.082 445.562 294.082Z" fill="#444263"/>
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="#FFF7F4"/>
                    <mask id="mask0_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="350" y="181" width="32" height="18">
                    <path d="M350.72 181.393H381.433V198.55H350.72V181.393Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask0_80_205)">
                    <mask id="mask1_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask1_80_205)">
                    <path d="M350.767 229.203C351.122 228.043 352.048 224.691 352.403 223.444C363.03 186.053 373.804 176.559 378.437 184.001C387.555 198.61 373.16 223.202 364.719 238.167C360.71 236.511 354.394 233.534 350.767 229.203Z" fill="#FCBC50"/>
                    </g>
                    </g>
                    <mask id="mask2_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="364" y="117" width="68" height="61">
                    <path d="M364.799 117.412H431.208V177.558H364.799V117.412Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask2_80_205)">
                    <mask id="mask3_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask3_80_205)">
                    <path d="M366.268 164.095C364.471 161.889 364.532 158.685 366.416 156.559C369.218 153.375 370.619 148.95 370.499 144.008C370.15 129.513 375.225 123.835 378.323 123.151C380.763 122.621 379.979 123.204 381.87 122.628C384.317 121.89 385.644 118.176 392.308 117.787C405.945 116.996 415.694 122.95 423.659 138.162C426.434 143.452 429.344 152.309 430.906 158.148C431.221 159.328 430.98 160.589 430.236 161.554C417.9 177.793 383.619 185.442 366.268 164.095Z" fill="#492918"/>
                    </g>
                    </g>
                    <mask id="mask4_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="363" y="172" width="77" height="27">
                    <path d="M363.526 172.436H439.046V198.55H363.526V172.436Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask4_80_205)">
                    <mask id="mask5_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.784V198.55H444.375V120.221C444.375 115.246 440.339 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask5_80_205)">
                    <path d="M436.785 188.426C431.402 179.482 429.746 179.442 425.589 179.026C409.21 177.41 409.672 172.114 400.628 172.597C396.431 172.825 396.304 172.489 388.734 177.303C381.205 182.097 375.117 178.745 371.343 183.163C366.261 189.103 374.366 196.646 365.288 211.751C358.644 222.807 372.67 224.516 377.357 263.671C378.007 269.115 374.554 272.165 376.043 274.157C387.004 288.846 430.664 283.295 431.717 273.835C432.092 270.436 431.013 270.945 428.599 266.172C426.42 261.854 419.769 250.087 423.919 237.724C431.703 214.56 442.404 197.765 436.785 188.426Z" fill="#FCBC50"/>
                    </g>
                    </g>
                    <mask id="mask6_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="390" y="149" width="19" height="41">
                    <path d="M390.016 149.406H408.326V189.069H390.016V149.406Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask6_80_205)">
                    <mask id="mask7_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.359 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.359 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask7_80_205)">
                    <path d="M402.42 150.431C406.302 148.722 406.536 160.388 407.998 175.62C408.581 181.715 401.273 187.91 397.291 188.292C389.829 189.016 388.421 170.981 392.846 161.018C395.628 154.763 398.685 152.081 402.42 150.431Z" fill="#F7BBAA"/>
                    </g>
                    </g>
                    <mask id="mask8_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="374" y="121" width="39" height="52">
                    <path d="M374.568 121.314H412.161V172.436H374.568V121.314Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask8_80_205)">
                    <mask id="mask9_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask9_80_205)">
                    <path d="M404.866 154.763C402.379 159.811 399.958 168.333 392.959 170.84C391.993 171.189 390.8 171.236 390.599 171.249C386.871 171.417 384.337 168.319 382.956 166.804C377.042 160.327 375.648 150.827 375.091 145.028C374.461 138.37 374.669 135.145 375.996 130.962C378.685 122.541 392.235 119.363 400.957 123.546C404.249 125.129 408.419 126.349 409.13 132.557C410.109 140.985 405.101 142.453 406.502 143.781C406.911 144.163 411.879 139.711 411.443 147.347C411.175 152.121 408.051 155.808 406.71 155.4C405.188 154.937 405.235 154.018 404.866 154.763Z" fill="#F7BBAA"/>
                    </g>
                    </g>
                    <mask id="mask10_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="372" y="123" width="6" height="23">
                    <path d="M372.852 123.814H377.605V145.564H372.852V123.814Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask10_80_205)">
                    <mask id="mask11_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask11_80_205)">
                    <path d="M376.7 125.31C378.276 134.77 376.023 141.903 374.407 145.209C373.469 147.113 373.361 137.539 374.012 132.912C374.87 126.858 376.284 122.856 376.7 125.31Z" fill="#492918"/>
                    </g>
                    </g>
                    <mask id="mask12_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="390" y="163" width="12" height="15">
                    <path d="M390.016 163.478H401.923V177.558H390.016V163.478Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask12_80_205)">
                    <mask id="mask13_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.359 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.359 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask13_80_205)">
                    <path d="M392.966 170.914C396.627 169.6 399 166.697 400.79 163.525C398.658 168.306 396.137 174.514 390.351 176.72C390.311 174.943 390.392 173.113 390.599 171.303C390.62 171.303 390.64 171.309 390.666 171.303C390.861 171.296 392.021 171.249 392.966 170.914Z" fill="#F29379"/>
                    </g>
                    </g>
                    <mask id="mask14_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="393" y="119" width="20" height="26">
                    <path d="M393.448 119.973H412.16V144.283H393.448V119.973Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask14_80_205)">
                    <mask id="mask15_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask15_80_205)">
                    <path d="M407.319 143.492C408.815 142.621 411.51 138.638 411.389 135.346C411.134 128.427 406.381 119.45 399.717 120.134C396.914 120.422 394.722 121.582 393.709 123.955C393.508 124.425 401.46 146.891 407.319 143.492Z" fill="#492918"/>
                    </g>
                    </g>
                    <mask id="mask16_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="375" y="121" width="25" height="23">
                    <path d="M375.044 121.314H399.361V143.003H375.044V121.314Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask16_80_205)">
                    <mask id="mask17_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask17_80_205)">
                    <path d="M397.813 141.856C397.813 141.856 393.046 142.889 386.965 142.976C381.005 143.063 378.296 142.554 378.296 142.554C377.203 142.453 376.721 141.984 376.6 141.152C376.157 138.31 375.574 131.679 377.981 124.599C378.591 122.822 399.824 119.081 399.02 123.788C397.612 132.068 398.336 137.224 398.993 139.791C399.254 140.817 398.872 141.816 397.813 141.856Z" fill="#492918"/>
                    </g>
                    </g>
                    <mask id="mask18_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="422" y="180" width="23" height="19">
                    <path d="M422.626 180.112H444.939V198.55H422.626V180.112Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask18_80_205)">
                    <mask id="mask19_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="111" width="99" height="88">
                    <path d="M435.358 111.203H346.785V198.55H444.376V120.221C444.376 115.246 440.34 111.203 435.358 111.203Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask19_80_205)">
                    <path d="M450.316 234.835C445.429 238.026 439.689 239.816 433.93 239.93C432.328 235.244 430.095 228.666 427.293 219.287C417.149 185.275 426.113 175.091 433.146 182.419C443.712 193.434 448.546 217.456 450.316 234.835Z" fill="#FCBC50"/>
                    </g>
                    </g>
                    <path d="M346.791 111.203H249.2V198.55H346.791V111.203Z" fill="#EB9E94"/>
                    <mask id="mask20_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="249" y="116" width="74" height="83">
                    <path d="M249.2 116.138H322.561V198.55H249.2V116.138Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask20_80_205)">
                    <path d="M321.435 182.653C321.14 176.84 316.923 174.239 318.344 168.728C319.638 163.7 321.79 161.514 321.18 157.672C320.65 154.3 317.184 152.946 315.971 147.086C315.039 142.614 317.345 137.84 314.878 133.355C307.778 120.449 298.505 115.333 286.826 116.252C281.121 116.708 280.859 119.101 278.781 119.772C277.158 120.301 277.5 119.792 275.422 120.295C272.78 120.931 268.275 126.691 268.255 139.128C268.255 144.759 264.46 142.869 262.301 147.347C260.008 152.107 264.815 157.552 258.774 158.785C251.306 160.314 249.515 166.475 249.837 169.559C250.823 178.812 247.994 178.993 245.62 182.13C240.25 189.224 244.293 198.811 246.063 201.996C257.796 223.122 297.915 229.799 317.466 194.587C318.498 192.73 321.737 188.754 321.435 182.653Z" fill="#282444"/>
                    </g>
                    <path d="M281.395 156.908C284.251 164.216 288.924 172.503 286.906 180.964C285.518 186.777 297.285 190.209 301.1 189.378C308.253 187.809 303.694 170.786 296.594 162.862C292.136 157.88 279.94 153.2 281.395 156.908Z" fill="#F79556"/>
                    <path d="M285.679 157.907C289.018 164.792 294.395 172.885 303.232 174.863C302.642 172.053 302.213 170.424 301.468 167.776C301.435 167.776 289.145 162.459 285.679 157.907Z" fill="#EC7D40"/>
                    <path d="M308.877 136.969C308.877 136.969 306.349 138.115 300.53 139.463C294.57 140.844 289.675 140.971 289.675 140.971C288.629 141.186 288.019 140.308 288.026 139.242C288.039 138.403 287.986 137.311 287.811 135.956C285.498 142.145 281.469 147.991 277.574 147.837C276.977 148.185 270.836 145.953 274.014 153.18C276.065 157.847 280.55 160.347 281.73 159.449C283.078 158.423 282.689 157.518 283.326 158.128C287.684 162.231 293.276 169.814 301.18 169.72C302.273 169.7 303.473 169.305 303.681 169.238C307.456 168.024 308.83 163.995 309.648 161.97C313.121 153.321 310.976 143.338 309.36 137.351C309.32 137.17 309.266 137.002 309.219 136.835C309.118 136.875 309.004 136.922 308.877 136.969Z" fill="#F79556"/>
                    <mask id="mask21_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="278" y="176" width="69" height="23">
                    <path d="M278.452 176.277H346.791V198.55H278.452V176.277Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask21_80_205)">
                    <path d="M374.004 303.636C366.857 309.898 355.385 309.878 350.545 308.557C302.889 295.557 278.907 235.163 279.001 207.963C279.061 190.544 285.048 179.107 295.172 177.343C300.475 176.418 304.827 178.771 308.098 184.631C321.621 208.828 332.637 205.066 333.884 212.569C334.192 214.459 334.394 222.874 327.615 226.648C323.284 229.069 326.811 239.259 329.063 242.981C341.393 263.356 352.187 255.277 369.586 264.931C373.85 267.291 380.319 274.666 382.063 285.118C382.552 288.062 382.934 295.819 374.004 303.636Z" fill="white"/>
                    </g>
                    <mask id="mask22_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="285" y="183" width="62" height="16">
                    <path d="M285.445 183.954H346.792V198.55H285.445V183.954Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask22_80_205)">
                    <path d="M305.459 192.04C324.03 228.935 331.593 248.123 337.365 240.668C347.985 226.937 360.074 227.292 367.288 217.899C369.849 214.567 374.059 208.875 376.366 206.749C377.579 205.636 385.658 202.029 387.529 203.759C387.663 203.88 391.411 203.069 393.972 203.84C395.574 204.309 394.87 205.482 395.024 205.469C396.647 205.281 397.431 205.589 397.901 205.677C399.771 206.019 399.637 206.89 398.772 207.802C398.571 208.016 398.785 208.137 396.352 210.216C395.212 211.188 390.68 213.253 389.191 214.915C384.941 219.649 385.001 219.971 380.77 222.103C378.612 223.182 374.877 223.92 373.543 225.482C361.24 239.89 348.052 264.603 333.477 264.616C325.19 264.629 289.837 235.438 285.58 199.542C284.098 187.045 297.815 176.867 305.459 192.04Z" fill="#F79556"/>
                    </g>
                    <path d="M435.358 285.829H346.785V198.483H444.376V276.818C444.376 281.793 440.34 285.829 435.358 285.829Z" fill="#815AE2"/>
                    <mask id="mask23_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="349" y="269" width="36" height="18">
                    <path d="M349.439 269.685H384.866V286.084H349.439V269.685Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask23_80_205)">
                    <mask id="mask24_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="198" width="99" height="88">
                    <path d="M435.358 285.829H346.784V198.483H444.375V276.818C444.375 281.793 440.339 285.829 435.358 285.829Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask24_80_205)">
                    <path d="M353.435 324.903C358.591 327.216 365.47 329.214 372.972 330.535C381.319 314.759 390.149 290.844 380.24 273.815C375.325 265.374 364.176 271.522 352.014 316.938C351.39 319.258 350.874 321.437 350.438 323.495C351.377 323.958 352.376 324.427 353.435 324.903Z" fill="white"/>
                    </g>
                    </g>
                    <mask id="mask25_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="367" y="259" width="78" height="28">
                    <path d="M367.702 259.447H444.938V286.084H367.702V259.447Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask25_80_205)">
                    <mask id="mask26_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="198" width="99" height="88">
                    <path d="M435.358 285.829H346.784V198.483H444.375V276.818C444.375 281.793 440.339 285.829 435.358 285.829Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask26_80_205)">
                    <path d="M383.377 369.254C383.518 369.461 383.672 369.662 383.84 369.864H442.652C444.181 366.806 441.667 366.786 439.065 361.644C436.658 356.87 429.471 343.904 433.889 330.173C438.106 317.052 456.557 291.421 450.999 279.319C445.81 268.015 442.8 267.734 438.2 267.278C420.065 265.488 414.024 259.212 404.014 259.749C399.374 259.997 399.227 258.401 390.853 263.731C382.519 269.028 370.625 268.793 369.559 275.129C362.439 317.414 380.126 329.958 381.138 358.882C381.353 364.942 381.842 366.974 383.377 369.254Z" fill="white"/>
                    </g>
                    </g>
                    <mask id="mask27_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="429" y="267" width="16" height="20">
                    <path d="M429.491 267.204H444.938V286.084H429.491V267.204Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask27_80_205)">
                    <mask id="mask28_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="198" width="99" height="88">
                    <path d="M435.358 285.829H346.784V198.483H444.375V276.818C444.375 281.793 440.339 285.829 435.358 285.829Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask28_80_205)">
                    <path d="M458.602 296.583C455.625 285.373 451.395 276.315 445.374 270.047C437.536 261.881 422.84 272.527 433.111 310.723C435.545 319.741 438.227 326.7 440.54 331.668C447.908 330.756 455.86 328.993 463.235 326.392C462.531 317.173 461.244 306.519 458.602 296.583Z" fill="white"/>
                    </g>
                    </g>
                    <mask id="mask29_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="376" y="203" width="47" height="45">
                    <path d="M376.324 203.149H422.404V247.935H376.324V203.149Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask29_80_205)">
                    <mask id="mask30_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="198" width="99" height="88">
                    <path d="M435.358 285.829H346.784V198.483H444.375V276.818C444.375 281.793 440.339 285.829 435.358 285.829Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask30_80_205)">
                    <path d="M421.694 227.895C422.954 213.092 417.39 208.251 413.796 207.292C411.362 206.635 412.24 207.292 410.926 206.984C408.895 206.515 408.352 203.699 401.6 203.491C376.358 202.733 373.314 226.856 378.959 236.377C385.483 247.385 395.405 248.465 403.994 247.439C411.885 246.5 420.185 245.636 421.694 227.895Z" fill="#282444"/>
                    </g>
                    </g>
                    <mask id="mask31_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="391" y="238" width="25" height="40">
                    <path d="M391.731 238.026H415.76V277.361H391.731V238.026Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask31_80_205)">
                    <mask id="mask32_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="198" width="99" height="88">
                    <path d="M435.358 285.829H346.785V198.483H444.376V276.818C444.376 281.793 440.34 285.829 435.358 285.829Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask32_80_205)">
                    <path d="M411.752 238.1C412.71 238.073 414.078 239.32 414.232 241.425C414.775 248.827 414.943 265.119 414.588 267.09C413.421 273.627 404.243 276.496 399.04 276.429C396.271 276.389 393.67 274.874 392.878 272.132C390.304 263.235 392.329 246.816 396.767 247.077C404.229 247.526 406.65 238.254 411.752 238.1Z" fill="#F79556"/>
                    </g>
                    </g>
                    <mask id="mask33_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="379" y="217" width="41" height="44">
                    <path d="M379.717 217.43H419.844V260.339H379.717V217.43Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask33_80_205)">
                    <mask id="mask34_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="198" width="99" height="88">
                    <path d="M435.358 285.829H346.785V198.483H444.376V276.818C444.376 281.793 440.34 285.829 435.358 285.829Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask34_80_205)">
                    <path d="M413.843 231.127C413.521 231.576 413.314 232.106 413.28 232.83C413.159 235.619 407.065 226.4 406.475 218.395C401.52 221.539 385.966 225.891 380.756 224.134C380.535 226.119 380.307 227.862 380.066 229.364C380.12 230.175 380.193 231.04 380.28 231.972C380.877 238.18 382.567 249.149 387.106 255.277C388.413 257.047 391.309 259.695 395.285 260.037C402.533 260.66 408.909 254.157 411.128 249.839C412.382 247.392 412.704 246.226 412.147 242.391C412.02 241.512 412.207 242.766 414.125 243.081C415.935 243.369 418.898 239.568 419.187 234.452C419.542 228.304 416.612 229.484 414.956 230.269C414.728 230.376 413.991 230.919 413.843 231.127Z" fill="#F79556"/>
                    </g>
                    </g>
                    <mask id="mask35_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="380" y="238" width="35" height="28">
                    <path d="M380.16 238.026H414.044V265.488H380.16V238.026Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask35_80_205)">
                    <mask id="mask36_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="346" y="198" width="99" height="88">
                    <path d="M435.358 285.829H346.785V198.483H444.376V276.818C444.376 281.793 440.34 285.829 435.358 285.829Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask36_80_205)">
                    <path d="M392.563 252.964C391.725 252.897 389.908 252.535 388.44 251.482C388.065 251.214 388.085 250.651 388.487 250.416C389.6 249.766 390.88 249.269 392.939 249.269C395.406 249.269 396.955 249.839 398.611 250.684C399.06 250.905 399.067 251.556 398.631 251.79C397.015 252.648 394.789 253.145 392.563 252.964ZM405 246.065C404.135 247.312 402.56 247.861 401.091 247.452C398.919 246.836 396.338 246.112 392.979 246.179C390.13 246.232 388.246 246.849 386.63 247.325C385.55 247.647 384.411 247.084 383.995 246.038C383.291 243.457 381.266 239.736 381.266 239.762C381.206 241.465 381.3 244.321 382.48 251.448C383.76 259.212 389.7 264.878 394.97 264.978C403.291 265.139 412.449 257.301 413.025 248.559C413.595 239.823 412.456 240.225 413.347 239.152C414.159 238.187 410.645 239.561 407.193 243.289C406.361 244.187 405.604 245.2 405 246.065Z" fill="#282444"/>
                    </g>
                    </g>
                    <path d="M346.791 198.483H249.2V285.829H346.791V198.483Z" fill="#FFF7F4"/>
                    <path d="M322.708 241.358C322.46 241.144 322.481 240.741 322.749 240.554C323.895 239.729 324.532 238.636 324.338 237.597C324.21 236.906 323.734 236.343 323.03 235.948C322.856 235.854 322.755 235.659 322.776 235.458C323.828 234.975 324.452 233.95 324.21 232.984C324.083 232.495 323.754 232.099 323.312 231.844C323.305 231.804 323.305 231.764 323.305 231.717C323.285 231.583 323.325 231.449 323.406 231.342C324.432 230.027 325.015 228.405 324.975 226.662C324.874 222.907 321.884 219.87 318.042 219.334C317.68 219.287 317.472 218.885 317.66 218.569C318.753 216.746 319.034 214.768 318.25 213.166C316.822 210.262 312.41 209.693 308.401 211.892C308.347 211.925 308.294 211.952 308.24 211.986C307.892 212.187 307.469 211.912 307.489 211.503C307.63 208.218 306.624 205.563 304.714 204.892C302.897 204.249 300.724 205.556 299.021 208.03C298.807 208.352 298.338 208.325 298.163 207.976C297.171 206.019 295.656 204.872 294.469 205.315C293.678 205.616 293.195 206.548 293.075 207.789C293.034 208.224 292.525 208.419 292.223 208.117C289.059 204.919 285.27 203.739 283.34 205.522C282.26 206.535 281.985 208.298 282.414 210.316C282.508 210.752 282.046 211.087 281.663 210.859C278.687 209.109 275.254 209.143 272.974 211.255C271.352 212.757 270.641 215.023 270.822 217.41C270.842 217.651 270.702 217.865 270.474 217.946C269.213 218.368 268.006 219.079 266.94 220.065C263.306 223.437 262.542 228.921 264.949 232.904C265.137 233.199 264.983 233.574 264.647 233.668C262.435 234.278 260.859 236.015 260.92 238.019C260.96 239.816 262.314 241.331 264.205 241.982C264.627 242.122 264.667 242.706 264.272 242.92C262.529 243.832 261.469 245.428 261.764 246.983C262.093 248.726 264.031 249.846 266.323 249.745C266.732 249.732 266.987 250.181 266.773 250.537C265.787 252.159 265.485 253.694 266.149 254.358C266.793 255.002 268.161 254.646 269.595 253.587C269.924 253.352 270.38 253.594 270.38 254.003C270.386 255.672 271.037 257.073 272.21 257.617C273.276 258.099 274.537 257.757 275.616 256.832C275.891 256.597 276.32 256.718 276.42 257.067C276.99 258.931 278.304 260.258 279.873 260.312C281.12 260.352 282.26 259.588 283.004 258.361C283.125 258.16 283.36 258.079 283.581 258.146C286.658 259.145 290.011 259.648 293.504 259.561C297.908 259.44 302.032 258.381 305.625 256.611C305.94 256.47 306.296 256.651 306.363 256.986C306.899 259.856 309.561 261.726 312.296 261.157C313.269 260.955 314.12 260.473 314.79 259.816C314.871 259.728 314.985 259.675 315.106 259.668C315.293 259.648 315.481 259.628 315.675 259.588C318.411 259.018 320.194 256.229 319.651 253.359C319.531 252.702 319.289 252.092 318.967 251.556C318.753 251.2 318.994 250.758 319.403 250.764C319.765 250.778 320.141 250.744 320.509 250.671C323.245 250.101 325.028 247.312 324.485 244.442C324.251 243.175 323.6 242.109 322.708 241.358Z" fill="#1D1D1B"/>
                    <mask id="mask37_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="305" y="273" width="32" height="13">
                    <path d="M305.921 273.526H336.641V285.829H305.921V273.526Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask37_80_205)">
                    <path d="M336.232 319.881C335.89 318.762 334.992 315.51 334.65 314.303C324.359 278.099 313.933 268.907 309.441 276.114C300.618 290.261 314.55 314.069 322.736 328.564C326.611 326.955 332.726 324.072 336.232 319.881Z" fill="#512618"/>
                    </g>
                    <mask id="mask38_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="252" y="265" width="73" height="21">
                    <path d="M252.163 265.488H324.793V285.829H252.163V265.488Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask38_80_205)">
                    <path d="M254.094 281.049C259.27 272.447 260.859 272.407 264.855 272.011C280.611 270.462 280.162 265.367 288.857 265.83C292.893 266.044 293.014 265.729 300.295 270.362C307.529 274.968 313.382 271.743 317.01 275.987C321.897 281.706 314.106 288.947 322.829 303.469C329.225 314.102 315.736 315.738 311.23 353.384C310.6 358.613 313.919 361.55 312.491 363.467C301.951 377.587 259.974 372.25 258.975 363.152C258.606 359.887 259.646 360.377 261.965 355.784C264.064 351.641 270.46 340.323 266.464 328.443C258.989 306.171 248.69 290.026 254.094 281.049Z" fill="#FF7FAF"/>
                    </g>
                    <mask id="mask39_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="249" y="272" width="20" height="14">
                    <path d="M249.2 272.353H268.154V285.829H249.2V272.353Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask39_80_205)">
                    <path d="M241.296 325.694C246.023 328.778 251.581 330.515 257.152 330.622C258.701 326.09 260.873 319.721 263.582 310.643C273.404 277.71 264.721 267.848 257.916 274.941C247.679 285.608 243.006 308.866 241.296 325.694Z" fill="#7F4730"/>
                    </g>
                    <path d="M287.268 243.859C283.514 242.203 283.279 253.493 281.864 268.25C281.295 274.15 288.375 280.144 292.23 280.519C299.464 281.216 300.825 263.758 296.534 254.117C293.845 248.049 290.875 245.455 287.268 243.859Z" fill="#7F4730"/>
                    <path d="M284.895 248.049C287.308 252.943 289.655 261.19 296.42 263.624C297.365 263.959 298.512 263.999 298.713 264.013C302.32 264.174 304.78 261.177 306.115 259.708C311.84 253.446 313.188 244.241 313.724 238.623C314.334 232.18 314.133 229.055 312.839 225.012C310.245 216.86 297.13 213.782 288.683 217.832C285.491 219.361 281.462 220.547 280.765 226.561C279.819 234.714 284.667 236.135 283.312 237.422C282.924 237.791 278.11 233.48 278.525 240.869C278.794 245.495 281.817 249.068 283.111 248.673C284.586 248.23 284.539 247.332 284.895 248.049Z" fill="#7F4730"/>
                    <path d="M296.42 263.684C292.874 262.417 290.581 259.601 288.844 256.537C290.909 261.163 293.35 267.17 298.955 269.309C298.995 267.593 298.914 265.816 298.713 264.066C298.693 264.066 298.673 264.073 298.653 264.073C298.459 264.06 297.332 264.019 296.42 263.684Z" fill="#512618"/>
                    <path d="M315.24 221.271C315.36 220.715 315.427 220.132 315.427 219.528C315.427 216.028 313.255 213.186 310.573 213.186C309.199 213.186 307.965 213.937 307.08 215.13C306.135 214.694 304.975 214.433 303.715 214.433C302.34 214.433 301.08 214.734 300.094 215.251C299.45 212.736 297.64 210.926 295.495 210.926C292.94 210.926 290.855 213.487 290.654 216.752C289.669 216.25 288.442 215.948 287.107 215.948C283.99 215.948 281.449 217.564 281.228 219.622C279.618 220.655 278.506 222.807 278.506 225.307C278.506 226.776 278.894 228.13 279.545 229.209C278.452 229.525 277.667 230.45 277.667 231.536C277.667 232.884 278.874 233.983 280.363 233.983C280.557 233.983 280.745 233.963 280.926 233.929C281.073 234.466 281.288 235.009 281.59 235.525C283.051 238.053 285.82 239.193 287.785 238.053C289.353 237.148 289.923 235.069 289.34 232.984C290.473 233.42 291.68 233.52 292.86 233.192C294.784 232.649 296.192 231.073 296.829 229.062C297.271 229.364 297.781 229.484 298.27 229.35C298.834 229.203 299.249 228.76 299.471 228.17C300.315 228.646 301.294 228.921 302.34 228.921C304.244 228.921 305.94 228.009 307.02 226.595C307.02 226.662 307.006 226.729 307.006 226.796C307.006 230.155 309.615 232.884 312.819 232.884C316.031 232.884 318.632 230.155 318.632 226.796C318.632 224.342 317.244 222.23 315.24 221.271Z" fill="#1D1D1B"/>
                    <path d="M164.361 111.203H249.361V285.829H164.361C159.38 285.829 155.35 281.793 155.35 276.818V120.221C155.35 115.246 159.38 111.203 164.361 111.203Z" fill="#B5D8EE"/>
                    <path d="M234.404 217.208H169.021C164.757 217.208 161.304 220.668 161.304 224.925V236.283C161.304 240.547 164.757 244 169.021 244H216.784L225.58 252.038V244H234.404C238.661 244 242.12 240.547 242.12 236.283V224.925C242.12 220.668 238.661 217.208 234.404 217.208Z" fill="white"/>
                    <path d="M182.289 217.188C182.289 221.124 179.091 224.315 175.155 224.315C171.22 224.315 168.028 221.124 168.028 217.188C168.028 213.253 171.22 210.061 175.155 210.061C179.091 210.061 182.289 213.253 182.289 217.188Z" fill="#FF7FAF"/>
                    <path d="M217.139 233.594C217.139 234.613 216.308 235.438 215.289 235.438C214.269 235.438 213.445 234.613 213.445 233.594C213.445 232.575 214.269 231.75 215.289 231.75C216.308 231.75 217.139 232.575 217.139 233.594Z" fill="#E1D7F7"/>
                    <path d="M224.789 233.594C224.789 234.613 223.964 235.438 222.945 235.438C221.926 235.438 221.102 234.613 221.102 233.594C221.102 232.575 221.926 231.75 222.945 231.75C223.964 231.75 224.789 232.575 224.789 233.594Z" fill="#E1D7F7"/>
                    <path d="M232.453 233.594C232.453 234.613 231.628 235.438 230.609 235.438C229.59 235.438 228.765 234.613 228.765 233.594C228.765 232.575 229.59 231.75 230.609 231.75C231.628 231.75 232.453 232.575 232.453 233.594Z" fill="#E1D7F7"/>
                    <path d="M232.365 226.937H189.818C188.792 226.937 187.961 226.112 187.961 225.086C187.961 224.06 188.792 223.229 189.818 223.229H232.365C233.384 223.229 234.215 224.06 234.215 225.086C234.215 226.112 233.384 226.937 232.365 226.937Z" fill="#E1D7F7"/>
                    <path d="M207.981 235.465H170.469C169.45 235.465 168.619 234.633 168.619 233.614C168.619 232.589 169.45 231.757 170.469 231.757H207.981C209.007 231.757 209.838 232.589 209.838 233.614C209.838 234.633 209.007 235.465 207.981 235.465Z" fill="#E1D7F7"/>
                    <path d="M234.404 124.13H169.021C164.757 124.13 161.304 127.582 161.304 131.846V143.204C161.304 147.468 164.757 150.921 169.021 150.921H208.216L217.012 158.96V150.921H234.404C238.661 150.921 242.12 147.468 242.12 143.204V131.846C242.12 127.582 238.661 124.13 234.404 124.13Z" fill="white"/>
                    <path d="M182.289 124.109C182.289 128.045 179.091 131.236 175.155 131.236C171.22 131.236 168.028 128.045 168.028 124.109C168.028 120.167 171.22 116.983 175.155 116.983C179.091 116.983 182.289 120.167 182.289 124.109Z" fill="#815AE2"/>
                    <path d="M232.365 134.562H189.818C188.792 134.562 187.961 133.737 187.961 132.711C187.961 131.686 188.792 130.854 189.818 130.854H232.365C233.384 130.854 234.215 131.686 234.215 132.711C234.215 133.737 233.384 134.562 232.365 134.562Z" fill="#E1D7F7"/>
                    <path d="M185.702 141.93C185.702 142.949 186.526 143.774 187.545 143.774C188.564 143.774 189.396 142.949 189.396 141.93C189.396 140.911 188.564 140.086 187.545 140.086C186.526 140.086 185.702 140.911 185.702 141.93Z" fill="#E1D7F7"/>
                    <path d="M178.045 141.93C178.045 142.949 178.87 143.774 179.889 143.774C180.908 143.774 181.739 142.949 181.739 141.93C181.739 140.911 180.908 140.086 179.889 140.086C178.87 140.086 178.045 140.911 178.045 141.93Z" fill="#E1D7F7"/>
                    <path d="M170.382 141.93C170.382 142.949 171.213 143.774 172.232 143.774C173.251 143.774 174.076 142.949 174.076 141.93C174.076 140.911 173.251 140.086 172.232 140.086C171.213 140.086 170.382 140.911 170.382 141.93Z" fill="#E1D7F7"/>
                    <path d="M194.853 143.794H232.365C233.384 143.794 234.215 142.969 234.215 141.943C234.215 140.918 233.384 140.086 232.365 140.086H194.853C193.827 140.086 192.996 140.918 192.996 141.943C192.996 142.969 193.827 143.794 194.853 143.794Z" fill="#E1D7F7"/>
                    <path d="M169.021 252.783H217.052C221.316 252.783 224.776 256.242 224.776 260.506V264.428C224.776 268.692 221.316 272.145 217.052 272.145H182.745L173.942 280.184V272.145H169.021C164.757 272.145 161.304 268.692 161.304 264.428V260.506C161.304 256.242 164.757 252.783 169.021 252.783Z" fill="white"/>
                    <path d="M201.048 253.138C201.048 257.073 204.24 260.265 208.175 260.265C212.117 260.265 215.309 257.073 215.309 253.138C215.309 249.202 212.117 246.004 208.175 246.004C204.24 246.004 201.048 249.202 201.048 253.138Z" fill="#FCBC50"/>
                    <path d="M184.22 264.717C184.22 265.736 185.051 266.567 186.07 266.567C187.089 266.567 187.914 265.736 187.914 264.717C187.914 263.698 187.089 262.873 186.07 262.873C185.051 262.873 184.22 263.698 184.22 264.717Z" fill="#E1D7F7"/>
                    <path d="M176.57 264.717C176.57 265.736 177.395 266.567 178.414 266.567C179.433 266.567 180.258 265.736 180.258 264.717C180.258 263.698 179.433 262.873 178.414 262.873C177.395 262.873 176.57 263.698 176.57 264.717Z" fill="#E1D7F7"/>
                    <path d="M168.907 264.717C168.907 265.736 169.732 266.567 170.751 266.567C171.77 266.567 172.601 265.736 172.601 264.717C172.601 263.698 171.77 262.873 170.751 262.873C169.732 262.873 168.907 263.698 168.907 264.717Z" fill="#E1D7F7"/>
                    <path d="M169.021 160.823H234.404C238.661 160.823 242.12 164.276 242.12 168.54V196.176C242.12 200.44 238.661 203.893 234.404 203.893H192.36L183.55 211.939V203.893H169.021C164.757 203.893 161.304 200.44 161.304 196.176V168.54C161.304 164.276 164.757 160.823 169.021 160.823Z" fill="white"/>
                    <path d="M221.135 160.803C221.135 164.739 224.327 167.93 228.269 167.93C232.204 167.93 235.396 164.739 235.396 160.803C235.396 156.868 232.204 153.676 228.269 153.676C224.327 153.676 221.135 156.868 221.135 160.803Z" fill="#EB9E94"/>
                    <path d="M186.285 195.265C186.285 196.284 187.11 197.108 188.136 197.108C189.155 197.108 189.979 196.284 189.979 195.265C189.979 194.245 189.155 193.414 188.136 193.414C187.11 193.414 186.285 194.245 186.285 195.265Z" fill="#E1D7F7"/>
                    <path d="M178.628 195.265C178.628 196.284 179.46 197.108 180.479 197.108C181.498 197.108 182.323 196.284 182.323 195.265C182.323 194.245 181.498 193.414 180.479 193.414C179.46 193.414 178.628 194.245 178.628 195.265Z" fill="#E1D7F7"/>
                    <path d="M170.965 195.265C170.965 196.284 171.796 197.108 172.815 197.108C173.834 197.108 174.659 196.284 174.659 195.265C174.659 194.245 173.834 193.414 172.815 193.414C171.796 193.414 170.965 194.245 170.965 195.265Z" fill="#E1D7F7"/>
                    <path d="M171.059 170.552H213.606C214.625 170.552 215.457 169.72 215.457 168.695C215.457 167.675 214.625 166.844 213.606 166.844H171.059C170.04 166.844 169.202 167.675 169.202 168.695C169.202 169.72 170.04 170.552 171.059 170.552Z" fill="#E1D7F7"/>
                    <path d="M171.059 179.408H232.949C233.975 179.408 234.806 178.577 234.806 177.558C234.806 176.532 233.975 175.707 232.949 175.707H171.059C170.04 175.707 169.202 176.532 169.202 177.558C169.202 178.577 170.04 179.408 171.059 179.408Z" fill="#E1D7F7"/>
                    <path d="M171.059 188.272H232.949C233.975 188.272 234.806 187.44 234.806 186.415C234.806 185.395 233.975 184.564 232.949 184.564H171.059C170.04 184.564 169.202 185.395 169.202 186.415C169.202 187.44 170.04 188.272 171.059 188.272Z" fill="#E1D7F7"/>
                    <path d="M195.437 197.128H232.949C233.974 197.128 234.806 196.297 234.806 195.271C234.806 194.252 233.974 193.421 232.949 193.421H195.437C194.411 193.421 193.58 194.252 193.58 195.271C193.58 196.297 194.411 197.128 195.437 197.128Z" fill="#E1D7F7"/>
                    <path d="M81.9427 299.178C79.4553 299.178 77.1289 297.716 75.2985 295.316V269.557C77.1289 267.15 79.4553 265.689 81.9427 265.689C87.655 265.689 92.4822 273.359 92.4822 282.437C92.4822 291.515 87.655 299.178 81.9427 299.178ZM93.8499 266.909C92.3817 264.763 90.6519 263.067 88.7009 261.86C86.5822 260.553 84.3094 259.889 81.9427 259.889C79.623 259.889 77.3904 260.526 75.2985 261.8V252.608C75.2985 251.991 74.7957 251.495 74.1856 251.495H25.9533C25.3432 251.495 24.8403 251.991 24.8403 252.608V309.65C24.8403 310.267 25.3432 310.763 25.9533 310.763H74.1856C74.7957 310.763 75.2985 310.267 75.2985 309.65V303.073C77.3904 304.34 79.623 304.984 81.9427 304.984C84.3094 304.984 86.5822 304.32 88.7009 303.006C90.6519 301.806 92.3817 300.11 93.8499 297.964C96.7128 293.774 98.295 288.263 98.295 282.437C98.295 276.61 96.7128 271.093 93.8499 266.909Z" fill="#0058B5"/>
                    <path d="M560.974 310.763H539.908C539.378 310.763 538.949 310.334 538.949 309.804V201.929C538.949 201.399 539.378 200.97 539.908 200.97H560.974C561.503 200.97 561.932 201.399 561.932 201.929V309.804C561.932 310.334 561.503 310.763 560.974 310.763Z" fill="#FFBCB0"/>
                    <path d="M575.281 310.763H564.808C564.379 310.763 564.031 310.415 564.031 309.986V201.741C564.031 201.319 564.379 200.97 564.808 200.97H575.281C575.71 200.97 576.059 201.319 576.059 201.741V309.986C576.059 310.415 575.71 310.763 575.281 310.763Z" fill="#FF7FAF"/>
                    <path d="M533.606 310.763H502.41V161.762H533.606V310.763Z" fill="#FCBC50"/>
                    <path d="M522.791 238.415H513.224V184.591H522.791V238.415Z" fill="white"/>
                    <path d="M524.387 283.858C524.387 287.385 521.531 290.241 518.004 290.241C514.485 290.241 511.628 287.385 511.628 283.858C511.628 280.338 514.485 277.482 518.004 277.482C521.531 277.482 524.387 280.338 524.387 283.858Z" fill="#282444"/>
                    <path d="M500.385 310.763H469.188V161.762H500.385V310.763Z" fill="#33B0C4"/>
                    <path d="M489.571 238.415H479.997V184.591H489.571V238.415Z" fill="white"/>
                    <path d="M491.166 283.858C491.166 287.385 488.31 290.241 484.784 290.241C481.257 290.241 478.401 287.385 478.401 283.858C478.401 280.338 481.257 277.482 484.784 277.482C488.31 277.482 491.166 280.338 491.166 283.858Z" fill="#282444"/>
                    <path d="M600.899 310.763H579.834C579.304 310.763 578.875 310.334 578.875 309.804V201.929C578.875 201.399 579.304 200.97 579.834 200.97H600.899C601.429 200.97 601.858 201.399 601.858 201.929V309.804C601.858 310.334 601.429 310.763 600.899 310.763Z" fill="#815AE2"/>
                    <path d="M578.875 219.568H601.858V216.887H578.875V219.568Z" fill="#FCBC50"/>
                    <path d="M578.875 292.99H601.858V290.308H578.875V292.99Z" fill="#FCBC50"/>
                    <mask id="mask40_80_205" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="77" y="323" width="553" height="116">
                    <path d="M77.6387 323.428H629.763V438.927H77.6387V323.428Z" fill="white"/>
                    </mask>
                    <g mask="url(#mask40_80_205)">
                    <path d="M78.0405 323.562V327.974C84.1886 328.691 89.2505 329.704 93.0117 331.266C156.095 357.433 184.602 385.559 219.814 402.039C384.336 479.047 537.676 427.087 629.474 323.562H78.0405Z" fill="#E9F0F8"/>
                    </g>
                    <path d="M631.666 329.409H8.34042C3.73442 329.409 0 325.339 0 320.317C0 315.302 3.73442 311.226 8.34042 311.226H631.666C636.272 311.226 640 315.302 640 320.317C640 325.339 636.272 329.409 631.666 329.409Z" fill="#282444"/>
                </svg>

            </div><!-- end col-lg-6 -->
        </div><!-- end row -->
    </div><!-- end container -->
</section>
<!-- ================================
         END BANNER AREA
================================= -->
<section class="funfact-area funfact-section-area funfact-event-area mb-lg-5">
    <div class="container">
        <div class="counter-box bg-white shadow-md rounded-rounded px-4">
            <div class="row">
                <div class="col responsive-column-half border-right border-right-gray">
                    <div class="media media-card text-center px-0 py-4 shadow-none rounded-0 bg-transparent counter-item mb-0">
                        <div class="media-body">
                            <h5 class="fw-semi-bold pb-2">5+ Million</h5>
                            <p class="lh-20">Visitors on our network</p>
                        </div>
                    </div>
                </div><!-- end col -->
                <div class="col responsive-column-half border-right border-right-gray">
                    <div class="media media-card text-center px-0 py-4 shadow-none rounded-0 bg-transparent counter-item mb-0">
                        <div class="media-body">
                            <h5 class="fw-semi-bold pb-2">2+ Million</h5>
                            <p class="lh-20">Career events attended</p>
                        </div>
                    </div>
                </div><!-- end col -->
                <div class="col responsive-column-half border-right border-right-gray">
                    <div class="media media-card text-center px-0 py-4 shadow-none rounded-0 bg-transparent counter-item mb-0">
                        <div class="media-body">
                            <h5 class="fw-semi-bold pb-2">1+ Million</h5>
                            <p class="lh-20">Connections created</p>
                        </div>
                    </div>
                </div><!-- end col -->
                <div class="col responsive-column-half border-right border-right-gray">
                    <div class="media media-card text-center px-0 py-4 shadow-none rounded-0 bg-transparent counter-item mb-0">
                        <div class="media-body">
                            <h5 class="fw-semi-bold pb-2">10,000+</h5>
                            <p class="lh-20">Recruiters on platform</p>
                        </div>
                    </div>
                </div><!-- end col -->
                <div class="col responsive-column-half">
                    <div class="media media-card text-center px-0 py-4 shadow-none rounded-0 bg-transparent counter-item mb-0">
                        <div class="media-body">
                            <h5 class="fw-semi-bold pb-2">150+</h5>
                            <p class="lh-20">Communities served</p>
                        </div>
                    </div>
                </div><!-- end col -->
            </div><!-- end row -->
        </div><!-- end counter-box -->
    </div><!-- end container -->

</section>
<?php } ?>

    <header class="border-bottom border-bottom-gray sticky-top shadow-sm events-hero-bg py-3" style="z-index: 9; top: 0px;">
        <div class="max-w-1248 mx-auto">
            <section class="hero-area overflow-hidden">
                <div class="container">
                    <div class="hero-content row mx-0 align-items-center justify-content-between events-mobile-header">
                        <!--
                    <div class="col-lg-7 mb-2 mb-lg-0 px-0">
                            <h2 class="section-title fs-24 mb-1"><?php //echo $app_data->name_slug; ?></h2>

                            <p class="section-desc"><?php //echo $app_data->short; ?></p>
                        </div>-->

                        <!--<div class=" col-lg-5 mb-0 px-0">
                            <?php
                            if (taoh_user_is_logged_in()) {
                                if (isset($_GET['creator']) && $_GET['creator']) {
                                    echo '<div class="d-flex flex-column flex-sm-row" style="gap: 12px;">';
                                    echo '<a href="' . TAOH_SITE_URL_ROOT . '/' . ($app_data?->slug ?? '') . '/post" class="btn theme-btn">Post Events</a>';
                                    echo '<a href="' . TAOH_SITE_URL_ROOT . '/' . ($app_data?->slug ?? '') . '/dash" class="btn theme-btn" style="background-color: #38B653;">My Events</a>';
                                    echo '</div>';
                                }
                            } else {
                                echo '<a
                                 href="javascript:void(0);"
                                 class="btn theme-btn login-button " aria-pressed="true" data-toggle="modal" data-target="#config-modal"
                                ><i class="la la-sign-in mr-1"></i> Login / Signup</a>';
                            }

                            ?>
                        </div>--->
                    </div><!-- end hero-content -->
                </div><!-- end container -->
            </section>


            <?php
           // if (taoh_user_is_logged_in()) {
                include('search_new.php');
            //}
            ?>
        </div>

    </header>

    <section>
        <div class="px-3 sticky-container">
            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                    <div>
                        <div class="row justify-content-center">
                            <div  class="loaderArea"  id="listloaderArea"></div>
                        </div>
                        <div class="new-events result_div pt-3">
                            <div class="container d-flex justify-content-center flex-wrap px-0" id="eventlistArea" style="gap: 12px;">

                            </div>
                            <div class="d-flex justify-content-center">
                                <div id="pagination"></div>
                            </div>
                        </div>

                        <div class="row d-flex justify-content-between">

                            <div class="row col-lg-12 no_result_div ">
                                <div class="no_result">
                                    <img style="width:20%" src="<?php echo TAOH_SITE_URL_ROOT.'/assets/images/no_jobs_found.png';?>" alt="No Results Illustration">
                                    <div class="noresult_html"></div>
                                    <a href="<?php echo TAOH_SITE_URL_ROOT.'/events'; ?>" class="btn theme-btn">BROWSE OUR EVENT BOARD</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="modal" id="eventShareModal" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-dialog-centered modal-sm" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Share</h5>
          </div>
          <div class="modal-body">
            <section class="mb-3 mt-3" id="share_icon"></section>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

</div>
<!-- <script src="<?php echo TAOH_CHAT_PREFIX; ?>/js/event.js?v=<?php echo TAOH_CSS_JS_VERSION; ?>"></script> -->
    <script>
        const isLoggedIn = <?= json_encode($taoh_user_is_logged_in); ?>;
        const isValidUser = <?= json_encode($valid_user); ?>;
        //console.log(isLoggedIn);
        let loaderArea = $('#listloaderArea');
        let detailloaderArea = $('#detailloaderArea');
        let searchQuery = $('#searchQuery');
        let eventlistArea = $('#eventlistArea');
        let locationSelectInput = $('#locationSelect');
        let geohashInput = $('#geohash');
        let currentMod = '<?php echo ($app_data?->slug ?? ''); ?>';
        let geohash = "";
        let search = "";
        let locationClear = $('#locationClear');
        let searchClear = $('#searchClear');
        let postDate = $('#postdate').val();
        let from_date = $('#from_date').val();
        let to_date = $('#to_date').val();
        let activeListloaderArea = $('#activeListloaderArea');
        let listUpdatedAt = 0;
        let activeChatList = $('#activeChatList');
        let eventCount = $('#eventCount');
        let totalItems = 0; //this will be rewriiten on response of events on line 363
        let itemsPerPage = 12;
        let currentPage = 1;
        let like_min = '<?php echo TAOH_SOCIAL_LIKES_THRESHOLD; ?>';
        let comment_min = '<?php echo TAOH_SOCIAL_COMMENTS_THRESHOLD; ?>';
        let share_min = '<?php echo TAOH_SOCIAL_SHARES_THRESHOLD; ?>';
        let app_slug = 'events';
        let arr_cont = [];
        let liked_arr = JSON.parse(`<?= json_encode(($liked_arr ?? [])); ?>`);
        //var event_list_name = "events_list";
        var already_rendered = false;
        var get_slug = false;
        var event_list_name = "";
        var store_name = EVENTStore;
        var det_slot = $('.detail_tab');
        var event_type = '';
        var user_ptoken = '<?php echo $ptoken; ?>';
        const rsvped_data = <?php echo json_encode($rsvped_data); ?>;
        const rsvp_find = new Array();
        let rsvp_events_list;
        let nextRsvpEvent;

        let _taoh_static_ajax_token = '<?php echo taoh_get_dummy_token(1); ?>';

        loader(true, loaderArea);
        $('#dateRangeInputs').hide();
        $('.no_result_div').hide();
        //Initial run

        $(document).ready(function () {

            $('[data-toggle="tooltip"]').tooltip();

            if (isLoggedIn) {
                rsvped_get();
            }
            $('.ts-control').css('height', '37px');

            <?php if(TAOH_INTAODB_ENABLE) { ?>
            console.log('list ajax start time:', new Date().getTime());
            geteventlistdata();
            <?php }else{ ?>
            taoh_events_init();
            <?php } ?>

            $('#locationSelect-ts-control').on('click', async function () {
            setTimeout(async () => {
                let locationSelect = $('#locationSelect')[0].tomselect; // TomSelect.instances['locationSelect']; // Get instance

                const curUserData = await getUserInfo(user_ptoken, 'full').catch((e) => {
                    console.log(e)
                });
                const locationText = curUserData.full_location;       // Replace with your actual label
                const locationValue = curUserData.full_location;       // Replace with your actual coordinates

                locationSelect.addOption({
                    location: locationText,
                    coordinates: locationValue
                });

                locationSelect.refreshOptions(false);
                locationSelect.setValue(locationValue);

                // Optional: Set input field with human-readable value
                $('#coordinateLocation').val(locationText);
                $("#geohash").val(curUserData.geohash);

            }, 500);
            });

            var data = {
                'taoh_action': 'events_get',
                'ops': 'list',
                'offset': 0,
                'limit': 1000,
                'filter_type': 'rsvp_list',
                'call_from': 'events',
                'cfcc5':1
            };

            jQuery.get(_taoh_site_ajax_url, data, function (listresponse) {
                listresponse = parseJSONSafely(listresponse);
                if(listresponse.success){
                    rsvp_events_list = listresponse.output.list;
                    // console.log(rsvp_events_list);
                    // nextRsvpEvent = getNextLocalEvent(rsvp_events_list);
                    // console.log('nextRsvpEvent',nextRsvpEvent);
                }
            });

        });

        $('body').tooltip({
            selector: '[data-toggle="tooltip"]'
        });

        async function getUserInfo(pToken_to, ops = 'public', serverFetch = false) {
            if (!pToken_to?.trim()) return null;

            let userInfo = {};

            if (!serverFetch) {
                // Try to get userInfo from IndexedDB
                if (!userInfo.ptoken) {
                    const user_info_key = 'user_info_list';
                    const intao_data = await IntaoDB.getItem(objStores.common_store.name, user_info_key);
                    if (intao_data?.values && intao_data.values[ops] && intao_data.values[ops][pToken_to]) {
                        let userInfoObj = intao_data.values[ops][pToken_to];
                        // Check if data is expired (expires after 2 day)
                        if (userInfoObj.last_fetch_time && (Date.now() - userInfoObj.last_fetch_time) <= 172800000) {
                            userInfo = userInfoObj;
                        }
                    }
                }
            }

            // Fetch userInfo from server if not found locally
            if (!userInfo.ptoken) {
                const formData = {
                    taoh_action: 'taoh_user_info',
                    ops: ops,
                    ptoken: pToken_to
                };

                try {
                    const srv_userInfoObj = await fetchUserInfoFromServer(formData);
                    srv_userInfoObj.last_fetch_time = Date.now();
                    userInfo = srv_userInfoObj;
                } catch (e) {
                    console.log('getUserInfo error:', e);
                }
            }


            // If userInfo not found, set default values
            if (!userInfo.ptoken) {
                userInfo = {
                    ptoken: pToken_to,
                    chat_name: 'Unknown Name',
                    avatar: 'default',
                    full_location: 'Unknown Location',
                    type: 'Unknown Type',
                    is_unknown: true,
                    last_fetch_time: Date.now()
                };
            }

            return userInfo;
        }

        function delete_events_into() {
            getIntaoDb(dbName).then((db) => {
                let dataStoreName = EVENTStore;
                const transaction = db.transaction(dataStoreName, 'readwrite');
                const objectStore = transaction.objectStore(dataStoreName);
                const request = objectStore.openCursor();
                request.onsuccess = (event) => {
                    const cursor = event.target.result;
                    if (cursor) {
                        const index_key = cursor.primaryKey;
                        if (index_key.includes('event')) {
                            objectStore.delete(index_key);
                        }
                        cursor.continue();
                    }
                };
            }).catch((err) => {
                console.log('Error in deleting data store');
            });
        }

        function get_event_type(event_type_get = '') {

            if (event_type_get == 'rsvp_list') {
                event_type = event_type_get;
            } else if (event_type_get == 'saved') {
                event_type = event_type_get;
            } else {
                event_type = '';
            }
            /*for clearing search and paging data */
            currentPage = 1;
            $('#postdate').val('');
            $('#from_date').val('');
            $('#to_date').val('');
            $('#query').val('');

            $('#locationClear').hide();
            $('#coordinateLocation').val("");
            $('#geohash').val("");
            geohash = "";
            $('.ts-control div.item').html('');
            $('.ts-wrapper').removeClass('full has-items input-hidden');
            /*for clearing search and paging data */

            <?php if(TAOH_INTAODB_ENABLE) { ?>
            geteventlistdata('', event_type);
            <?php }else{ ?>
            taoh_events_init('', event_type);
            <?php } ?>
        }

        document.addEventListener("DOMContentLoaded", function () {
            const fromDateInput = document.getElementById('from_date');
            const toDateInput = document.getElementById('to_date');

            if (fromDateInput && toDateInput) {
                fromDateInput.addEventListener('change', function () {
                    // Get the selected from date
                    const fromDate = new Date(fromDateInput.value);
                    // Set the minimum selectable date for the 'To' date
                    toDateInput.min = fromDate.toISOString().split("T")[0];
                });

                toDateInput.addEventListener('change', function () {
                    // Get the selected to date
                    const toDate = new Date(toDateInput.value);
                    // Set the maximum selectable date for the 'From' date
                    fromDateInput.max = toDate.toISOString().split("T")[0];
                });
            }
        });


        const postdateSelect = document.getElementById('postdate');
        if (postdateSelect) {
            postdateSelect.addEventListener('change', function () {
                if (this.value === 'date_range') {
                    $('#dateRangeInputs').css('display', 'flex');
                } else {
                    $('#dateRangeInputs').hide();
                    $('#from_date').val('');
                    $('#to_date').val('');
                }
            });
        }


        function searchFilter() {
            currentPage = 1;
            var queryString = $('#searchFilter').serialize();
            console.log(queryString);
            geohash = geohashInput.val();
            search = $('#query').val();
            console.log('----search------', search);
            if (search) {
                searchClear.show();
            }
            if (geohash) {
                locationClear.show();
            }
            already_rendered = false;
            event_type = event_type;
            <?php if(TAOH_INTAODB_ENABLE) { ?>
            geteventlistdata(queryString, event_type);
            <?php }else{ ?>
            taoh_events_init('', event_type);
            <?php } ?>
        }

        function geteventlistdata(queryString, event_type_get = '') {
            // Open or create a database
            getIntaoDb(dbName).then((db) => {
                var currpage = currentPage - 1;
                event_type = event_type_get;

                var event_list_hash = 'events'+search + geohash + queryString + currpage + itemsPerPage + postDate + from_date + to_date + event_type;
                event_list_name = 'events_' + crc32(event_list_hash);
                console.log(event_list_name);
                const datareventequest = db.transaction(store_name).objectStore(store_name).get(event_list_name); // get main data
                datareventequest.onsuccess = () => {

                    if (datareventequest.result?.values?.output?.list) {
                        const events = datareventequest.result.values.output.list;
                        const jsonLd = {
                            "@context": "https://schema.org",
                            "@graph": events.map(event => ({
                                "@type": "Event",
                                "title": event.title,
                                "startDate": event.utc_start_at_read,
                                "endDate": event.utc_end_at_read,
                                "location": {
                                    "@type": "Place",
                                    "event_type": event.event_type || "",
                                    "full_location": event.full_location || ""
                                }
                            }))
                        };
                        const script = document.createElement('script');
                        script.type = "application/ld+json";
                        script.text = JSON.stringify(jsonLd, null, 2);
                        document.head.appendChild(script);
                    }

                    const eventstoredatares = datareventequest.result;
                    if (eventstoredatares !== undefined && eventstoredatares !== null && eventstoredatares !== "" && eventstoredatares !== "undefined" && eventstoredatares !== "null") {
                        console.log('list ajax intaodb call start time:', new Date().getTime());
                        const eventstoredata = datareventequest.result.values;
                        get_slug = true;
                        already_rendered = true;
                        loader(false, loaderArea);
                        render_events_template(eventstoredata, eventlistArea, event_type);
                        //taoh_events_init(queryString);
                        console.log('ifff');
                    } else {
                        get_slug = false;
                        already_rendered = false;
                        loader(true, loaderArea);
                        event_type = event_type;
                        taoh_events_init(queryString, event_type);
                        console.log('else');
                    }
                }

            }).catch((error) => {
                console.log('Geteventlistdata Error:', error);
            });
        }

        function show_pagination(holder) {
            return $(holder).pagination({
                items: totalItems,
                itemsOnPage: itemsPerPage,
                currentPage: currentPage,
                displayedPages: 3,
                onInit: function () {
                    $("#pagination ul").addClass('pagination justify-content-center');
                    $("#pagination ul li.disabled").addClass('page-link text-gray');
                    $("#pagination ul li.active").addClass('page-link bg-primary text-white');
                },
                onPageClick: function (pageNumber, event) {
                    $("#pagination ul").addClass('pagination');
                    $("#pagination ul li.disabled").addClass('page-link text-gray');
                    $("#pagination ul li.active").addClass('page-link bg-primary text-white');
                    currentPage = pageNumber;
                    console.log('--show_pagination----------' + currentPage);
                    //taoh_events_init();
                    already_rendered = false;
                    console.log(already_rendered);
                    loader(true, loaderArea);
                    <?php if(TAOH_INTAODB_ENABLE) { ?>
                    geteventlistdata('', event_type);
                    <?php }else{ ?>
                    taoh_events_init('', event_type);
                    <?php } ?>
                }
            });
        }

        function clearBtn(type) {
            loader(true, loaderArea);
            if (type == "search") {
                $('#searchClear').hide();
                search = "";
                $('#query').val("");
            }
            if (type == "geohash") {
                $('#locationClear').hide();
                $('#coordinateLocation').val("");
                $('#geohash').val("");
                geohash = "";
                $('.ts-control div.item').html('');
                $('.ts-wrapper').removeClass('full has-items input-hidden');
            }
            already_rendered = false;
            event_type = event_type;
            <?php if(TAOH_INTAODB_ENABLE) { ?>
            geteventlistdata('', event_type);
            <?php }else{ ?>
            taoh_events_init('', event_type);
            <?php } ?>
        }

        function taoh_events_init(queryString = "", event_type_get = "") {
            search = $('#query').val();
            geohash = geohashInput.val();
            if (search) {
                searchClear.show();
            } else {
                searchClear.hide();
            }
            if (geohash) {
                locationClear.show();
            } else {
                locationClear.hide();
            }
            geohash = geohash
            /* if($('#locationSelect-ts-control').val() == ''){
                $('#coordinateLocation').val('');
                geohashInput.val('');
            } */
            postDate = $('#postdate').val();
            from_date = $('#from_date').val();
            to_date = $('#to_date').val();
            event_type = event_type_get;

            var data = {
                'taoh_action': 'events_get',
                'ops': 'list',
                'search': search,
                'geohash': geohash,
                'offset': currentPage - 1,
                'limit': itemsPerPage,
                'postDate': postDate,
                'from_date': from_date,
                'to_date': to_date,
                'filter_type': event_type,
                'filters': queryString,
                'call_from': 'events',
                'cfcc5':1
            };

            jQuery.get(_taoh_site_ajax_url, data, function (listresponse) {
                listresponse = parseJSONSafely(listresponse);
                <?php if(TAOH_INTAODB_ENABLE) { ?>
                if (!get_slug) {
                    indx_events_list(listresponse);
                }
                if (!already_rendered) {
                    render_events_template(listresponse, eventlistArea, event_type);
                }
                <?php }else{ ?>
                render_events_template(listresponse, eventlistArea, event_type);
                <?php } ?>
                loader(false, loaderArea);
            }).fail(function () {
                loader(false, loaderArea);
                console.log("Network issue!");
            })
        }

        function rsvped_get() {
            getIntaoDb(dbName).then((db) => {
                const dataStoreName = store_name;
                const transaction = db.transaction(dataStoreName, 'readwrite');
                const objectStore = transaction.objectStore(dataStoreName);
                const request = objectStore.openCursor();
                request.onsuccess = (event) => {
                    const cursor = event.target.result;
                    if (cursor) {
                        var index_key = cursor.primaryKey;
                        if (index_key.includes('rsvp_status_' + user_ptoken + '_')) {
                            rsvp_find.push(index_key);
                        }
                        cursor.continue();
                    } else {
                        console.log('Finished iterating');
                    }
                };
            });
        }

        function date_read(date, locality, timezone) {
            let options = {
                weekday: 'short',
                month: 'short',
                day: 'numeric',
                hour: 'numeric',
                minute: "numeric"
            };

            if (locality === 0) {

            } else {
                // Use a fallback mechanism for timezone
                timezone = timezone || getCookie('client_time_zone') || Intl.DateTimeFormat().resolvedOptions().timeZone;
            }

            if (!isValidTimezone(timezone)) timezone = 'UTC';

            options.timeZone = timezone;

            let output = new Date(date);
            return output.toLocaleDateString('en-US', options).toUpperCase();
        }

        function convertToSlug(Text) {
            return Text.toLowerCase()
                .replace(/[^\w ]+/g, '')
                .replace(/ +/g, '-');
        }

        function isEventTokenPresent(eventToken) {
            return rsvped_data.some(item => item.eventtoken === eventToken);
        }

        function render_events_template(data, slot, event_type_get) {
            loader(true, loaderArea);
            slot.empty();

            $('.no_result_div').hide();

            if (data.output === false || data.success === false) {
                slot.append("");
                $('#pagination').hide();
                event_detail_execute('0');

                var noresult = `<h1>We couldn't find exactly what you were looking for</h1>
                <p>It seems your search didn't yield any results.<br> Don't worry, we can help you find what you need.</p>
                <ul class="options">
                    <li>1. Adjust your Search Terms</li>
                    <li>2. Explore Other Events that might suit you</li>
                    <li>3. Refine Your Search Criteria</li>
                </ul>`;

                $('.noresult_html').html(noresult);
                $('.no_result_div').show();
                return false;
            }

            totalItems = data.output.total
            let result = !get_slug ? format_object(data) : data;
            var loc_search = loc_query = '';
            if($('#coordinateLocation').val() != '' && $('#coordinateLocation').val() != 'undefined'){
                loc_search = $("#coordinateLocation").val();
            }
             if($('#query').val() != '' && $('#query').val() != 'undefined'){
                loc_query =  $('#query').val();
            }
            //console.log('-----------'+$('#coordinateLocation').val());
            const now = Date.now();
            $.each(result.output.list, function (i, v) {

                let additive = v.canonical_url?.trim() ? v.canonical_url : v.source;
                let is_expired = false;

                let user_timezone;
                if (isLoggedIn) {
                    user_timezone = '<?= taoh_user_timezone(); ?>';
                }
                if (!isLoggedIn || !user_timezone?.trim()) {
                    let clientTimeZone = typeof getCookie === 'function' ? getCookie('client_time_zone') : null;
                    user_timezone = convertDeprecatedTimeZone(clientTimeZone || Intl.DateTimeFormat().resolvedOptions().timeZone);
                }
                if (!isValidTimezone(user_timezone)) user_timezone = 'UTC';

                let event_timestamp_start_data = {
                    utc_datetime: v.utc_start_at,
                    local_datetime: v.local_start_at,
                    timezone: v.local_timezone,
                    locality: v.locality
                };
                let event_timestamp_end_data = {
                    utc_datetime: v.utc_end_at,
                    local_datetime: v.local_end_at,
                    timezone: v.local_timezone,
                    locality: v.locality
                };

                let localized_event_start_data = get_localized_event_data(event_timestamp_start_data, user_timezone);
                let localized_event_ends_data = get_localized_event_data(event_timestamp_end_data, user_timezone);

                arr_cont.push(v.eventtoken.toString());
                v.title = ucfirst(v.title);
                /* if(loc_search != ''){
                    v.title = loc_search +"<br>"+ ucfirst(v.title);
                } */

                // var company_name_get = v.company.length && v.company[0] ? v.company[0].name : '';

                var liked_check = get_liked_check(v.eventtoken, v.conttoken);
                let rsvped_token = 'rsvp_status_' + user_ptoken + '_' + v.eventtoken;

                let is_rsvp_done = false;
                let event_live_state;

                let btn_text = 'Register Now';
                let btn_class = 'btn-primary';
                let btn_icon = '<i class="fa fa-ticket mr-2" aria-hidden="true"></i>';
                let event_url = `<?php echo TAOH_SITE_URL_ROOT . "/" . ($app_data?->slug ?? '') . "/d/"; ?>${convertToSlug(taoh_title_desc_decode(v.title))}-${v.eventtoken}?con=${v.conttoken}`;

                const eventEndDate = makeZonedInstant(localized_event_ends_data.datetime, localized_event_ends_data.timezone);
                if (now > eventEndDate) {
                    is_expired = true;
                    btn_text = 'Event expired';
                    btn_class = 'btn-secondary';
                    btn_icon = '<i class="fa fa-ticket mr-2" aria-hidden="true"></i>';
                } else {
                    if (isLoggedIn) {
                        event_live_state = eventLiveState(v.utc_start_at || '', v.utc_end_at || '', v.locality, user_timezone);
                        is_rsvp_done = jQuery.inArray(rsvped_token, rsvp_find) !== -1 || isEventTokenPresent(v.eventtoken);

                        const setButton = (text, cls, icon, url = '') => {
                            btn_text = text;
                            btn_class = cls;
                            btn_icon = icon;
                            if (url) event_url = url;
                        };

                        const isLive = event_live_state === 'live';

                        if (isLive) {
                            const liveText = is_rsvp_done
                                ? (isValidUser ? 'Live, Join Now!' : 'Live, Complete Settings to Join!')
                                : 'Live, Register Now!';
                            const liveUrl = is_rsvp_done
                                ? (isValidUser ? `<?php echo TAOH_SITE_URL_ROOT . "/" . ($app_data?->slug ?? '') . "/chat/id/events/"; ?>${v.eventtoken}` : '<?php echo TAOH_SITE_URL_ROOT . "/settings"; ?>')
                                : '';
                            setButton(liveText, 'btn-success', '<i class="fa fa-rss mr-2" aria-hidden="true"></i>', liveUrl);
                        } else {
                            const regText = is_rsvp_done ? 'Registered!' : 'Register Now!';
                            const regClass = is_rsvp_done ? 'btn-warning' : 'btn-primary';
                            const regUrl = is_rsvp_done
                                ? (isValidUser ? `<?php echo TAOH_SITE_URL_ROOT . "/" . ($app_data?->slug ?? '') . "/chat/id/events/"; ?>${v.eventtoken}` : '<?php echo TAOH_SITE_URL_ROOT . "/settings"; ?>')
                                : '';
                            setButton(regText, regClass, '<i class="fa fa-ticket mr-2" aria-hidden="true"></i>', regUrl);
                        }
                    } else {
                        btn_text = 'Login to Register';
                        btn_class = 'btn-primary';
                        btn_icon = '<i class="fa fa-ticket mr-2" aria-hidden="true"></i>';
                    }
                }
                /* Update Canonical URL */
                let event_detail_url = event_url;
                <?php if(TAOH_LINK_CANONICAL_URL_ENABLE) { ?>
                     canonical_link = additive + '/'+`<?php echo ($app_data?->slug ?? '') . "/d/"?>${convertToSlug(taoh_title_desc_decode(v.title))}-${v.eventtoken}?con=${v.conttoken}`;
                    event_detail_url = canonical_link;
                <?php } ?>
                // console.log('--->'+loc_query);
                // console.log('event_detail_url : '+event_detail_url);
                /* Update Canonical URL - end */
                let rsvp_link;
                if (isLoggedIn || is_expired) {
                    rsvp_link = `<a href="${event_detail_url}" data-metrics="rsvp" class="btn d-flex align-items-center click_metrics ${btn_class}"
                                style="width: fit-content;">${btn_icon} <span>${btn_text}</span></a>`;
                } else {
                    rsvp_link = `<button type="button" class="btn create_referral ${btn_class}" id="register_ticket" data-location="${event_detail_url}" data-title="${btoa(unescape(encodeURIComponent(v.title)))}" data-toggle="modal" data-target="#config-modal">${btn_icon} ${btn_text}</button>`;
                }

                var no_image = '<?php echo TAOH_SITE_URL_ROOT . "/assets/images/event.jpg" ?>';
                var img = newavatardisplay(v.user_avatar, v.avatar_image, '<?php echo TAOH_OPS_PREFIX;?>');

                let event_type = v.event_type ? (v.event_type).toLowerCase() : 'virtual';

                const costArray = v.ticket_types.map(ti => ti.price === 'paid' ? ti.cost : 0);
                const minCost = Math.min(...costArray);

                if(event_type_get == '' && (is_expired == true || (typeof v.freeze_option != 'undefined' && v.freeze_option == 1))){
                    return true;
                }
                if (data.output.total == 1 && search =='') {
                    window.location.href = event_url;
                } else {
                var single_event = '';
                if(data.output.total == 1 && search !='')
                single_event = 'single_event';
                slot.append(`
                    <div class="${single_event} event-container dash_metrics px-0 pt-0 event-listing-block-row ${i == 0 ? 'active' : ''} ${data.output.total == 2 ? 'event-list-2' : ''}" style="cursor: pointer;"
                    data-conttoken="${v.eventtoken}" data-canonical = "${additive}" event-url="${event_detail_url}"
                    data-metrics="view" conttoken="${v.eventtoken}" data-type="events">

                        <div class="d-flex flex-column justify-content-between" style="height: 100%;">
                            <div>
                                <div class="event-image">
                                    <div class="events-bg" style="background-image: url(${v.event_image != '' ? v.event_image : no_image})"></div>
                                    <div class="glass-overlay"></div>
                                    <a target="_blank" href="${event_detail_url}" data-metrics="view" class="click_metrics"><img class="card-img shadow-sm" src="${v.event_image != '' ? v.event_image : no_image}" data-src="${v.event_image}" alt="${taoh_title_desc_decode(v.title)}"></a>
                                </div>
                                <div class="px-3 pt-3">
                                    <div class="d-flex justify-content-between mb-3" style="gap: 6px;">
                                        <div class="event-date">
                                            <svg width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M19 6.00001H1M6 3.00001V1.00001M14 3V1M3 2.00001H2.9C1.85066 2.00001 1 2.85067 1 3.90001V16C1 17.1046 1.89543 18 3 18H17C18.1046 18 19 17.1046 19 16V3.90001C19 2.85067 18.1493 2.00001 17.1 2.00001H17M9 2.00001H11M13.253 10.1109L9.8802 14.3122C9.5075 14.7765 8.8143 14.8143 8.3933 14.3933L7 13" stroke="#ffffff" stroke-width="1.25" stroke-linecap="round"/>
                                            </svg>
                                            <span>${beautifyTime(localized_event_start_data.datetime, localized_event_start_data.timezone, '{week}, {month} {day}, {year}, {time} {abbr}')}</span>
                                        </div>
                                        <!-- save icon -->
                                        <span class="bookmark-icon-right">${liked_check}</span>
                                    </div>

                                    <h4 class="event-title"><a href="${event_detail_url}" data-metrics="view" class="click_metrics">${taoh_title_desc_decode(v.title)}
                                     </a></h4>
                                    ${loc_query != '' ? '<p class="event-location py-2">'+loc_query+'</p>' : '' }
                                    ${loc_search != '' ? '<p class="event-location py-2">'+loc_search+'</p>' : '' }
                                    <p class="event-location py-2">${event_type != 'virtual' && v.full_location ? newgenerateLocationHTML(v.full_location) : 'Attend Online'}</p>

                                    <div class="event-price mb-2">
                                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M16.0268 0.500011L16.0268 0.500014H16.0249H9.87747C9.30941 0.500014 8.76623 0.72384 8.36704 1.12303L1.12507 8.365C0.291641 9.19842 0.291643 10.5483 1.12507 11.3817L6.61827 16.8749C7.4517 17.7084 8.80159 17.7084 9.63502 16.8749L16.877 9.63297C17.2762 9.23379 17.5 8.6906 17.5 8.12254V1.97098C17.5 1.15635 16.8392 0.496945 16.0268 0.500011ZM12.1069 3.31981C12.4476 2.97911 12.9096 2.7877 13.3915 2.7877C13.8733 2.7877 14.3354 2.97911 14.6761 3.31981C15.0168 3.66051 15.2082 4.1226 15.2082 4.60443C15.2082 5.08625 15.0168 5.54834 14.6761 5.88904C14.3354 6.22974 13.8733 6.42115 13.3915 6.42115C12.9096 6.42115 12.4476 6.22974 12.1069 5.88904C11.7662 5.54834 11.5748 5.08625 11.5748 4.60443C11.5748 4.1226 11.7662 3.66051 12.1069 3.31981Z" stroke="#212121"/>
                                        </svg>
                                        <span>From ${minCost == 0 ? '$0 (free)' : '$' + minCost}</span>
                                    </div>

                                    <div class="type_display event-type mb-2">
                                        ${(event_type == 'in-person') ? `<svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M14.8079 3.56198C15.2836 3.56198 15.7399 3.37434 16.0762 3.04034C16.4126 2.70634 16.6016 2.25334 16.6016 1.78099C16.6016 1.30864 16.4126 0.85564 16.0762 0.52164C15.7399 0.187639 15.2836 0 14.8079 0C14.3322 0 13.876 0.187639 13.5396 0.52164C13.2033 0.85564 13.0143 1.30864 13.0143 1.78099C13.0143 2.25334 13.2033 2.70634 13.5396 3.04034C13.876 3.37434 14.3322 3.56198 14.8079 3.56198ZM11.6579 7.43934C11.6952 7.4245 11.7289 7.40966 11.7662 7.39482L11.1347 9.75091C10.9255 10.5338 11.131 11.3686 11.684 11.966L14.3259 14.8267L15.148 18.0956C15.3087 18.7301 15.9589 19.1197 16.5978 18.9601C17.2368 18.8006 17.6292 18.155 17.4685 17.5205L16.6091 14.1032C16.5381 13.8138 16.3923 13.5504 16.1905 13.3314L14.3408 11.3278L15.062 8.89752L15.4208 9.75091C15.5852 10.1442 15.8879 10.467 16.2727 10.66L17.2705 11.1534C17.8609 11.4466 18.5783 11.2091 18.8735 10.6229C19.1687 10.0366 18.9296 9.32422 18.3392 9.0311L17.5358 8.63409L16.964 7.26866C16.3213 5.74369 14.8192 4.7493 13.1526 4.7493C12.3006 4.7493 11.4598 4.9274 10.6826 5.26876L10.3836 5.39862C9.15423 5.94034 8.21257 6.97183 7.79032 8.23707L7.69316 8.52649C7.48391 9.14983 7.82395 9.82141 8.44799 10.0292C9.07202 10.237 9.75211 9.89933 9.96137 9.2797L10.0585 8.99028C10.2715 8.35581 10.7424 7.84377 11.3552 7.57291L11.6541 7.44305L11.6579 7.43934ZM10.5368 12.4521L9.60264 14.7674L7.38301 16.9713C6.91592 17.4351 6.91592 18.1884 7.38301 18.6522C7.85011 19.1159 8.60867 19.1159 9.07576 18.6522L11.3813 16.3628C11.5532 16.1922 11.6878 15.9881 11.7774 15.7655L12.3193 14.4223L10.7984 12.7749C10.705 12.6747 10.619 12.5671 10.5368 12.4558V12.4521ZM8.23126 10.1702C7.94353 10.0069 7.58106 10.1034 7.41291 10.3891L6.21715 12.4447L4.18435 11.2796C3.61263 10.9531 2.88023 11.146 2.55139 11.7137L0.159872 15.8285C-0.168962 16.3962 0.025349 17.1235 0.597072 17.45L2.66723 18.6373C3.23896 18.9638 3.97136 18.7709 4.30019 18.2032L6.69171 14.0884C6.74777 13.9919 6.78887 13.8954 6.81503 13.7915L8.45172 10.9828C8.61614 10.6971 8.51899 10.3372 8.23126 10.1702Z" fill="#2557A7"/>
                                        </svg>` : (event_type == 'hybrid') ? `<svg width="25" height="25" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M6.48083 0.251601C6.84598 -0.0838669 7.40707 -0.0838669 7.76926 0.251601L13.9442 5.95158C14.1431 6.13564 14.25 6.39095 14.25 6.64923H9.97503C9.408 6.64923 8.89738 6.89861 8.55004 7.29345V6.17424C8.55004 5.91299 8.33629 5.69924 8.07504 5.69924H6.17505C5.9138 5.69924 5.70005 5.91299 5.70005 6.17424V8.07423C5.70005 8.33548 5.9138 8.54923 6.17505 8.54923H8.07504V12.3492H3.32506C2.53834 12.3492 1.90006 11.7109 1.90006 10.9242V7.59923H0.950065C0.558192 7.59923 0.20788 7.35876 0.0653809 6.99658C-0.0771186 6.63439 0.0178811 6.21877 0.305849 5.95158L6.48083 0.251601ZM10.45 9.02422V13.2992H16.15V9.02422H10.45ZM9.02504 8.54923C9.02504 8.02376 9.44957 7.59923 9.97503 7.59923H16.625C17.1505 7.59923 17.575 8.02376 17.575 8.54923V13.2992H18.525C18.7863 13.2992 19 13.513 19 13.7742C19 14.5609 18.3617 15.1992 17.575 15.1992H16.15H10.45H9.02504C8.23832 15.1992 7.60004 14.5609 7.60004 13.7742C7.60004 13.513 7.81379 13.2992 8.07504 13.2992H9.02504V8.54923Z" fill="#406CB2"/>
                                        </svg>` : `<svg width="20" height="13" viewBox="0 0 20 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M0 2.16667C0 0.971615 0.996528 0 2.22222 0H11.1111C12.3368 0 13.3333 0.971615 13.3333 2.16667V10.8333C13.3333 12.0284 12.3368 13 11.1111 13H2.22222C0.996528 13 0 12.0284 0 10.8333V2.16667ZM19.4132 1.21198C19.7743 1.40156 20 1.76719 20 2.16667V10.8333C20 11.2328 19.7743 11.5984 19.4132 11.788C19.0521 11.9776 18.6146 11.9573 18.2708 11.7339L14.9375 9.56719L14.4444 9.24557V8.66667V4.33333V3.75443L14.9375 3.43281L18.2708 1.26615C18.6111 1.04609 19.0486 1.0224 19.4132 1.21198Z" fill="#2557A7"></path>
                                        </svg>`}
                                        <span>${event_type}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="px-3">
                            ${rsvp_link}
                            </div>
                        </div>
                </div>
                `);
                }

            });


            if (data.output.total > itemsPerPage) {
                $('#pagination').show();
                show_pagination('#pagination');
            } else {
                $('#pagination').hide();
            }

            if (search) {
                taoh_metrix_ajax('events', arr_cont);
            }
            $("html, body").animate({scrollTop: 0}, "slow");
            loader(false, loaderArea);
        }

        function get_liked_check(eventtoken, contstoken = '') {
            if (jQuery.inArray(eventtoken, liked_arr) !== -1) {
                var get_liked = 1;
            } else {
                var get_liked = 0;
            }
            let is_local = localStorage.getItem(app_slug + '_' + eventtoken + '_' + contstoken + '_liked');
            if ((get_liked) || (is_local)) {
                var liked_checks = `<a class="fs-25 mr-2 ml-2 already-saved" style="vertical-align: text-bottom;">

				<!-- <img src="<?php echo TAOH_SITE_URL_ROOT;?>/assets/images/bookmark-fill.svg" alt="bookmark-saved" class="bookmark-saved" style="width: 18px"> -->
                 <svg width="20" height="20" viewBox="0 0 20 27" fill="none" xmlns="http://www.w3.org/2000/svg" class="bookmark-saved">
                    <path d="M2.5 0.5H17.5C18.6041 0.5 19.5 1.39593 19.5 2.5V25.4014C19.4998 25.823 19.156 26.167 18.7344 26.167C18.5737 26.167 18.4201 26.1185 18.2939 26.0293L18.292 26.0283L10.2871 20.4238L10 20.2227L9.71289 20.4238L1.70801 26.0283L1.70605 26.0293C1.57991 26.1185 1.4263 26.167 1.26562 26.167C0.843959 26.167 0.500177 25.823 0.5 25.4014V2.5C0.5 1.39593 1.39593 0.5 2.5 0.5Z" fill="white" stroke=""/>
                </svg>
			</a>`;
            } else {
                var liked_checks = `<a class="fs-25 events_like" style="cursor: pointer;">
			<!-- <img src="<?php echo TAOH_SITE_URL_ROOT;?>/assets/images/bookmark.svg" alt="bookmark" data-event="${(contstoken)}" data-cont="${(eventtoken)}" class="event_save" title="Save Event" style="width: 18px"> -->

             <svg width="20" height="20" viewBox="0 0 20 27" fill="none" xmlns="http://www.w3.org/2000/svg" data-event="${(contstoken)}" data-cont="${(eventtoken)}" class="event_save" title="Save Event">
                <path d="M2.5 0.5H17.5C18.6041 0.5 19.5 1.39593 19.5 2.5V25.4014C19.4998 25.823 19.156 26.167 18.7344 26.167C18.5737 26.167 18.4201 26.1185 18.2939 26.0293L18.292 26.0283L10.2871 20.4238L10 20.2227L9.71289 20.4238L1.70801 26.0283L1.70605 26.0293C1.57991 26.1185 1.4263 26.167 1.26562 26.167C0.843959 26.167 0.500177 25.823 0.5 25.4014V2.5C0.5 1.39593 1.39593 0.5 2.5 0.5Z" fill="" stroke="white"/>
            </svg>
			</a>`;
            }
            //<img src="<?php echo TAOH_SITE_URL_ROOT;?>/assets/images/bookmark.svg" alt="bookark" style="width: 18px">
            //<i style="cursor:pointer;" data-cont="${(conttoken)}" title="Save Event" class="las la-bookmark event_save"></i>
            return liked_checks;
        }

        function updateCanonical(newCanonicalUrl, event_url) {
            //let homeurl = "<?php //echo TAOH_SITE_URL_ROOT.'/'.$app_data->slug.'/'; ?>";
            let homeurl = "<?php echo TAOH_SITE_URL_ROOT . '/' . ($app_data?->slug ?? '') . '/'; ?>";
            //alert(homeurl)
            let url = homeurl + 'd/' + event_url + '/?q=main';
            window.history.pushState("", "", url);
        }

        function event_detail_execute(eventtoken, contstoken = '') {
            det_slot.empty();
            if (eventtoken == '0') {
                det_slot.append("");
                return false;
            }
            loader(true, loaderArea);
            var data = {
                'taoh_action': 'events_get_detail',
                'ops': 'detail',
                'eventtoken': eventtoken,
                'ptoken': '<?php echo $ptoken; ?>',
            };
            jQuery.post(_taoh_site_ajax_url, data, function (response) {
                loader(false, loaderArea);
                det_slot.html(response);
                var detail_like = get_liked_check(eventtoken, contstoken);
                $('.like_render').html(detail_like);

            }).fail(function () {
                console.log("Network issue on response!");

            });

        }

        function indx_events_list(eventlistdata) {
            var event_taoh_data = {taoh_data: event_list_name, values: eventlistdata};
            let event_setting_time = new Date();
            event_setting_time = event_setting_time.setMinutes(event_setting_time.getMinutes() + 30);
            var event_setting_timedata = {taoh_ttl: event_list_name, time: event_setting_time};
            obj_data = {[store_name]: event_taoh_data, [TTLStore]: event_setting_timedata};
            Object.keys(obj_data).forEach(key => {
                // console.log(key, obj_data[key]);
                IntaoDB.setItem(key, obj_data[key]).catch((err) => console.log('Storage failed', err));
            });
            return false;
        }


        $(document).on("click", ".event-listing-block-row", function () {
            var eventtoken = $(this).attr("data-conttoken");
            // var event_url = $(this).attr("event-url");
            // var newCanonicalUrl = $(this).attr("data-canonical");

            // $(this).addClass('active').siblings().removeClass('active');

            save_metrics('events', 'click', eventtoken);
            // window.location.href = event_url;
            //event_detail_execute(eventtoken);
            //updateCanonical(newCanonicalUrl,event_url);
        });

        $(document).on("click", ".event_save", function (event) {
            event.stopPropagation();
            if(!isLoggedIn){
                 taoh_set_error_message('Login to perform the action.');
                return false;
            }
            var savetoken = $(this).attr('data-cont');
            var contttoken = $(this).attr('data-event');
            $('.events_like').find(`[data-cont='${savetoken}']`).attr('src', "<?php echo TAOH_SITE_URL_ROOT;?>/assets/images/bookmark-fill.svg");
            $('.events_like').find(`[data-cont='${savetoken}']`).removeClass('event_save').addClass("already-saved").removeAttr("style");
            $('.events_like').find(`[data-cont='${savetoken}']`).parent().addClass("already-saved").removeAttr("style");
            localStorage.setItem(app_slug + '_' + savetoken + '_' + contttoken + '_liked', 1);
            delete_events_into();
            save_metrics('events', 'like', contttoken);
            var data = {
                'taoh_action': 'event_like_put',
                'eventtoken': savetoken,
                'contttoken': contttoken,
                'ptoken': '<?php echo $ptoken; ?>',
            };
            jQuery.post("<?php echo taoh_site_ajax_url(); ?>", data, function (response) {
                if (response.success) {
                    taoh_set_success_message('Event Saved Successfully.');
                } else {
                    taoh_set_error_message('Event Save Failed.');
                    console.log("Like Failed!");
                }
            }).fail(function () {
                console.log("Network issue!");
            })
        });

        $(document).on("click", ".event_save", function (event) {
            event.stopPropagation(); // Stop the event from propagating to the parent
            if(!isLoggedIn){
                 taoh_set_error_message('Login to perform the action.');
                return false;
            }
            var savetoken = $(this).attr('data-cont');
            var contttoken = $(this).attr('data-event');
            $('.events_like').find(`[data-cont='${savetoken}']`).attr('src', "<?php echo TAOH_SITE_URL_ROOT;?>/assets/images/bookmark-fill.svg");
            $('.events_like').find(`[data-cont='${savetoken}']`).removeClass('event_save').addClass("already-saved").removeAttr("style");
            $('.events_like').find(`[data-cont='${savetoken}']`).parent().addClass("already-saved").removeAttr("style");
            localStorage.setItem(app_slug + '_' + savetoken + '_' + contttoken + '_liked', 1);
            delete_events_into();

            save_metrics('events', 'like', contttoken);

            var data = {
                'taoh_action': 'event_like_put',
                'eventtoken': savetoken,
                'contttoken': contttoken,
                'ptoken': '<?php echo $ptoken; ?>',
            };
            jQuery.post("<?php echo taoh_site_ajax_url(); ?>", data, function (response) {
                if (response.success) {
                    taoh_set_success_message('Event Saved Successfully.');
                } else {
                    taoh_set_error_message('Event Save Failed.');
                    console.log("Like Failed!");
                }
            }).fail(function () {
                console.log("Network issue!");
            })
        });

        $(document).on("click", ".toggle-link", function (event) {
            event.preventDefault();
            var $this = $(this);
            var $content = $(".full-text");
            if ($this.text() === "Show More") {
                $content.text($content.data("full-text"));
                $this.text("Show Less");
            } else {
                $content.text($content.data("short-text"));
                $this.text("Show More");
            }
        });

        $(document).on('click', '.share_box', function (event) {
            var datatitle = $(this).attr("data-title");
            console.log(datatitle);
            var dataptoken = $(this).attr("data-ptoken");
            var datashare = $(this).attr("data-share");
            var dataconttoken = $(this).attr("data-conttoken");
            var share_link = $(this).attr("data-share");
            var dat_ajax = '<?php echo TAOH_SITE_URL_ROOT . '/ajax'?>';
            var image = '<?php echo(defined('TAO_PAGE_IMAGE') ? TAO_PAGE_IMAGE : '')?>';
            var desc = '<?php echo(urlencode(defined('TAO_PAGE_DESCRIPTION') ? substr(TAO_PAGE_DESCRIPTION, 0, 240) : ''))?>';
            var title = '<?php echo(defined('TAO_PAGE_TITLE') ? TAO_PAGE_TITLE : '')?>';
            var fb_share = "http://www.facebook.com/sharer.php?s=100&p[url]=" + share_link + "&p[images][0]=" + image + "&p[title]=" + title + "&p[summary]=" + desc;
            var tw_share = "https://twitter.com/intent/tweet?text=" + title + "&url=" + share_link;
            var link_share = "https://www.linkedin.com/shareArticle?mini=true&url=" + share_link + "&title=" + title + "&summary=" + desc + "&images=" + image;
            var email_share = "mailto:?subject=I wanted you to see this site&amp;body=Check out this site " + title + share_link;

            $("#share_icon").html(`


						<div class="social-icon-box d-flex text-center" data-ajax="${(dat_ajax)}" data-conttype="<?php echo ($app_data?->slug ?? ''); ?>">
							<a data-gtitle="${(datatitle)}" data-gptoken="${(dataptoken)}" data-gshare="${(datashare)}" data-gconntoken="${(dataconttoken)}" data-social="${(fb_share)}" class="ml-3 icon-element icon-element-sm shadow-sm text-gray hover-y media_share share_count" data-click="facebook" style="background-color:#365899; margin-bottom:10px;cursor:pointer;" target="_blank" title="Share on Facebook">
								<svg focusable="false" class="svg-inline--fa fa-facebook-f fa-w-10" style="color: white;" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg>
							</a>
							<a data-gtitle="${(datatitle)}" data-gptoken="${(dataptoken)}" data-gshare="${(datashare)}" data-gconntoken="${(dataconttoken)}" data-social="${(tw_share)}" class="ml-3 icon-element icon-element-sm shadow-sm text-gray hover-y media_share share_count" data-click="twitter" style="background-color:#00acee; margin-bottom:10px;cursor:pointer;" target="_blank" title="Share on Twitter">
								<svg focusable="false" class="svg-inline--fa fa-twitter fa-w-16" style="color: white;" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg>
							</a>
							<a data-gtitle="${(datatitle)}" data-gptoken="${(dataptoken)}" data-gshare="${(datashare)}" data-gconntoken="${(dataconttoken)}" data-social="${(link_share)}" class="ml-3 icon-element icon-element-sm shadow-sm text-gray hover-y media_share share_count" data-click="linkedin" style="background-color:#0A66C2; margin-bottom:10px;cursor:pointer;" target="_blank" title="Share on Linkedin">
								<svg focusable="false" class="svg-inline--fa fa-linkedin fa-w-14" style="color: white;" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg>
							</a>
							<a data-gtitle="${(datatitle)}" data-gptoken="${(dataptoken)}" data-gshare="${(datashare)}" data-gconntoken="${(dataconttoken)}" data-social="${(email_share)}" class="ml-3 icon-element icon-element-sm shadow-sm text-gray hover-y media_share share_count" data-click="email" style="background-color:#B23121; margin-bottom:10px;cursor:pointer;" target="_blank" title="Share vai Email">
								<svg focusable="false" class="svg-inline--fa fa-envelope fa-w-16" style="color: white;" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg>
							</a>
						</div>
						<div class="text-center mt-2 mb-2"> or </div>
							<span class="text-success-message">Link Copied!</span>
								<input type="text" style="display:none;" class="form-control form--control form--control-bg-gray copys-input" id="copys-input" value="${(share_link)}">
								<div class="copys-btn text-center media_share" data-gptoken="${(dataptoken)}" data-gshare="${(datashare)}" data-gconntoken="${(dataconttoken)}" style="cursor: pointer;"> <i class="fas fa-copy"></i> Copy URL</div>
					`);

            $("#exampleModal1").modal('show');
        });

        setInterval(function () {
            <?php if(TAOH_INTAODB_ENABLE) { ?>
            checkTTL(event_list_name, store_name);
            <?php } ?>
        }, 30000);

        <?php if(TAOH_DOJO_SUGGESTION_ENABLE) { ?>
             /* let timelimit = <?php echo (int)TAOH_DOJO_SUGGESTION_TIMELIMIT; ?>;
             let innertimelimit = Math.floor(timelimit / 2);
            console.log(timelimit+'------timelimit----------'+innertimelimit);

            // Every 5 mins: refresh all contexts
            setInterval(() => {
                refreshDojoEventContexts();
            }, timelimit);

            // Every 1 min: check one scenario
            setInterval(() => {
                checkNextDojoEventScenario();
            }, innertimelimit );

            // Initial trigger
            refreshDojoEventContexts();
            checkNextDojoEventScenario();
 */

        <?php } ?>


        /* function getNextLocalEvent(events) {
            const now = new Date(); // Current local time

            const upcoming = events
                .filter(event => {
                    const eventTime = new Date(event.utc_start_at);
                    return eventTime > now;
                })
                .sort((a, b) => {
                    return new Date(a.utc_start_at) - new Date(b.utc_start_at);
                });

            return upcoming.length > 0 ? upcoming[0] : null;
        } */

    </script>

<?php

taoh_get_footer();